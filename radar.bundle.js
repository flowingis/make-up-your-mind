!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=40)}([function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),r=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(r).concat([o]).join("\n")}var s;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=e.SVG_NS_URI="http://www.w3.org/2000/svg",o=e.createPathAttribute=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===t.length)return"M0 0";var e=t.reduce(function(t,e,n){return t+(0===n?"M":"L")+e.x+" "+e.y+" "},"");return e+="Z"};e.createPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElementNS(i,"path");return n.setAttribute("d",o(t)),Object.keys(e).forEach(function(t){n.setAttribute(t,e[t])}),n},e.createText=function(t){var e=t.text,n=t.x,o=t.y,r=t.attrs,s=void 0===r?{}:r,a=document.createElementNS(i,"text");a.innerHTML=e;var u=Object.assign({},{"text-anchor":"middle","alignment-baseline":"central"},s,{x:n,y:o});return Object.keys(u).forEach(function(t){a.setAttribute(t,u[t])}),a},e.createCircle=function(t){var e=t.radius,n=t.cx,o=void 0===n?0:n,r=t.cy,s=void 0===r?0:r,a=t.stroke,u=void 0===a?"black":a,c=document.createElementNS(i,"circle"),l={cx:o,cy:s,r:e,stroke:u,"fill-opacity":0};return Object.keys(l).forEach(function(t){c.setAttribute(t,l[t])}),c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.newIndexedArray=function(t){return t?[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(Array(parseInt(t,10)))).map(function(t,e){return e}):[]}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.STARTING_ANGLES_IN_GRAD={3:90,4:45,5:90,6:0,7:90,8:22.5};var i=e.gradsToRadians=function(t){return t*Math.PI/180};e.getAngleIncrement=function(t){return 2*Math.PI/t},e.unitaryCirclePoints=function(t){return function(e){var n=t*e;return{x:Math.cos(n),y:Math.sin(n)}}},e.rotatePoint=function(t){return function(e){var n=e.x,o=e.y,r=i(t),s=Math.cos(r),a=Math.sin(r);return{x:s*n+a*o,y:s*o-a*n}}},e.scalePoint=function(t){return function(e){return{x:t*e.x,y:t*e.y}}},e.translatePoint=function(t,e){return function(n){return{x:t+n.x,y:e+n.y}}},e.floor=function(t){return{x:Math.floor(t.x),y:Math.floor(t.y)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),o=n(4);e.default=function(t){var e=t.sides,n=t.radius,r=void 0===n?1:n,s=t.xOffset,a=void 0===s?0:s,u=t.yOffset,c=void 0===u?0:u,l=(0,i.getAngleIncrement)(e),f=i.STARTING_ANGLES_IN_GRAD[e]||0;return(0,o.newIndexedArray)(e).map((0,i.unitaryCirclePoints)(l)).map((0,i.rotatePoint)(f)).map((0,i.scalePoint)(r)).map((0,i.translatePoint)(a,c)).map(i.floor)}},,,,,,,,,,,,,,function(t,e,n){
/*!
 * Pusher JavaScript Library v4.2.2
 * https://pusher.com/
 *
 * Copyright 2017, Pusher
 * Released under the MIT licence.
 */
var i;i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";var i=n(1);t.exports=i.default},function(t,e,n){"use strict";var i=n(2),o=n(9),r=n(24),s=n(39),a=n(40),u=n(41),c=n(12),l=n(5),f=n(63),d=n(8),h=n(43),p=n(14),y=function(){function t(e,n){var c=this;if(function(t){if(null===t||void 0===t)throw"You must pass your app key when you instantiate Pusher."}(e),!(n=n||{}).cluster&&!n.wsHost&&!n.httpHost){var y=p.default.buildLogSuffix("javascriptQuickStart");d.default.warn("You should always specify a cluster when connecting. "+y)}this.key=e,this.config=o.extend(f.getGlobalConfig(),n.cluster?f.getClusterConfig(n.cluster):{},n),this.channels=h.default.createChannels(),this.global_emitter=new r.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new s.default(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:a.default.INFO,version:l.default.VERSION}),this.config.disableStats||(this.timelineSender=h.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+i.default.TimelineTransport.name}));this.connection=h.default.createConnectionManager(this.key,o.extend({getStrategy:function(t){var e=o.extend({},c.config,t);return u.build(i.default.getDefaultStrategy(e),e)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){c.subscribeAll(),c.timelineSender&&c.timelineSender.send(c.connection.isEncrypted())}),this.connection.bind("message",function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=c.channel(t.channel);n&&n.handleEvent(t.event,t.data)}e||c.global_emitter.emit(t.event,t.data)}),this.connection.bind("connecting",function(){c.channels.disconnect()}),this.connection.bind("disconnected",function(){c.channels.disconnect()}),this.connection.bind("error",function(t){d.default.warn("Error",t)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.log=function(e){t.logToConsole&&window.console&&window.console.log&&window.console.log(e)},t.getClientFeatures=function(){return o.keys(o.filterObject({ws:i.default.Transports.ws},function(t){return t.isSupported({})}))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isEncrypted(),e=this.timelineSender;this.timelineSenderTimer=new c.PeriodicTimer(6e4,function(){e.send(t)})}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e,n){return this.global_emitter.bind(t,e,n),this},t.prototype.unbind=function(t,e,n){return this.global_emitter.unbind(t,e,n),this},t.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},t.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},t.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&"connected"===this.connection.state&&e.unsubscribe()},t.prototype.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},t.prototype.isEncrypted=function(){return"https:"===i.default.getProtocol()||Boolean(this.config.encrypted)},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=i.default,t.ScriptReceivers=i.default.ScriptReceivers,t.DependenciesReceivers=i.default.DependenciesReceivers,t.auth_callbacks=i.default.auth_callbacks,t}();e.__esModule=!0,e.default=y,i.default.setup(y)},function(t,e,n){"use strict";var i=n(3),o=n(7),r=n(15),s=n(16),a=n(17),u=n(4),c=n(18),l=n(19),f=n(26),d=n(27),h=n(28),p=n(29),y={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:u.ScriptReceivers,DependenciesReceivers:i.DependenciesReceivers,getDefaultStrategy:d.default,Transports:l.default,transportConnectionInitializer:h.default,HTTPFactory:p.default,TimelineTransport:c.default,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():i.Dependencies.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:o.default,jsonp:r.default}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new a.default(t,e)},createScriptRequest:function(t){return new s.default(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return f.Network},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};e.__esModule=!0,e.default=y},function(t,e,n){"use strict";var i=n(4),o=n(5),r=n(6);e.DependenciesReceivers=new i.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),e.Dependencies=new r.default({cdn_http:o.default.cdn_http,cdn_https:o.default.cdn_https,version:o.default.VERSION,suffix:o.default.dependency_suffix,receivers:e.DependenciesReceivers})},function(t,e){"use strict";var n=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,i=this.name+"["+e+"]",o=!1,r=function(){o||(t.apply(null,arguments),o=!0)};return this[e]=r,{number:e,id:n,name:i,callback:r}},t.prototype.remove=function(t){delete this[t.number]},t}();e.ScriptReceiverFactory=n,e.ScriptReceivers=new n("_pusher_script_","Pusher.ScriptReceivers")},function(t,e){"use strict";e.__esModule=!0,e.default={VERSION:"4.2.2",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""}},function(t,e,n){"use strict";var i=n(4),o=n(2),r=function(){function t(t){this.options=t,this.receivers=t.receivers||i.ScriptReceivers,this.loading={}}return t.prototype.load=function(t,e,n){var i=this;if(i.loading[t]&&i.loading[t].length>0)i.loading[t].push(n);else{i.loading[t]=[n];var r=o.default.createScriptRequest(i.getPath(t,e)),s=i.receivers.create(function(e){if(i.receivers.remove(s),i.loading[t]){var n=i.loading[t];delete i.loading[t];for(var o=function(t){t||r.cleanup()},a=0;a<n.length;a++)n[a](e,o)}});r.send(s)}},t.prototype.getRoot=function(t){var e=o.default.getDocument().location.protocol;return(t&&t.encrypted||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(8),o=n(2),r=n(14);e.__esModule=!0,e.default=function(t,e,n){var s;for(var a in(s=o.default.createXHR()).open("POST",this.options.authEndpoint,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)s.setRequestHeader(a,this.authOptions.headers[a]);return s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var t,e=!1;try{t=JSON.parse(s.responseText),e=!0}catch(t){n(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+s.responseText)}e&&n(!1,t)}else{var o=r.default.buildLogSuffix("authenticationEndpoint");i.default.warn("Couldn't retrieve authentication info. "+s.status+"Clients must be authenticated to join private or presence channels. "+o),n(!0,s.status)}},s.send(this.composeQuery(e)),s}},function(t,e,n){"use strict";var i=n(9),o=n(1),r={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];o.default.log&&o.default.log(i.stringify.apply(this,arguments))},warn:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=i.stringify.apply(this,arguments);o.default.log?o.default.log(n):window.console&&(window.console.warn?window.console.warn(n):window.console.log&&window.console.log(n))}};e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(10),o=n(11);function r(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function s(t,e){for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i,t,n));return n}function a(t,e){var n={};return r(t,function(t,i){n[i]=e(t)}),n}function u(t,e){var n={};return r(t,function(i,o){(e&&e(i,o,t,n)||Boolean(i))&&(n[o]=i)}),n}function c(t){var e=[];return r(t,function(t,n){e.push([n,t])}),e}function l(t){return a(t,function(t){return"object"==typeof t&&(t=d(t)),encodeURIComponent(i.default(t.toString()))})}function f(t){var e=[],n=[];return function t(i,o){var r,s,a;switch(typeof i){case"object":if(!i)return null;for(r=0;r<e.length;r+=1)if(e[r]===i)return{$ref:n[r]};if(e.push(i),n.push(o),"[object Array]"===Object.prototype.toString.apply(i))for(a=[],r=0;r<i.length;r+=1)a[r]=t(i[r],o+"["+r+"]");else for(s in a={},i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=t(i[s],o+"["+JSON.stringify(s)+"]"));return a;case"number":case"string":case"boolean":return i}}(t,"$")}function d(t){try{return JSON.stringify(t)}catch(e){return JSON.stringify(f(t))}}e.extend=function t(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(var o=0;o<n.length;o++){var r=n[o];for(var s in r)r[s]&&r[s].constructor&&r[s].constructor===Object?e[s]=t(e[s]||{},r[s]):e[s]=r[s]}return e},e.stringify=function(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(d(arguments[e]));return t.join(" : ")},e.arrayIndexOf=function(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var i=0,o=t.length;i<o;i++)if(t[i]===e)return i;return-1},e.objectApply=r,e.keys=function(t){var e=[];return r(t,function(t,n){e.push(n)}),e},e.values=function(t){var e=[];return r(t,function(t){e.push(t)}),e},e.apply=function(t,e,n){for(var i=0;i<t.length;i++)e.call(n||window,t[i],i,t)},e.map=s,e.mapObject=a,e.filter=function(t,e){e=e||function(t){return!!t};for(var n=[],i=0;i<t.length;i++)e(t[i],i,t,n)&&n.push(t[i]);return n},e.filterObject=u,e.flatten=c,e.any=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},e.all=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},e.encodeParamsObject=l,e.buildQueryString=function(t){return s(c(l(u(t,function(t){return void 0!==t}))),o.default.method("join","=")).join("&")},e.decycleObject=f,e.safeJSONStringify=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return f(c(t))};for(var i=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={},s=0,a=o.length;s<a;s++)r[o.charAt(s)]=s;var u=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?i(192|e>>>6)+i(128|63&e):i(224|e>>>12&15)+i(128|e>>>6&63)+i(128|63&e)},c=function(t){return t.replace(/[^\x00-\x7F]/g,u)},l=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[o.charAt(n>>>18),o.charAt(n>>>12&63),e>=2?"=":o.charAt(n>>>6&63),e>=1?"=":o.charAt(63&n)].join("")},f=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,l)}},function(t,e,n){"use strict";var i=n(12),o={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new i.OneOffTimer(0,t)},method:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,i.concat(arguments))}}};e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(13);function r(t){window.clearTimeout(t)}function s(t){window.clearInterval(t)}var a=function(t){function e(e,n){t.call(this,setTimeout,r,e,function(t){return n(),null})}return i(e,t),e}(o.default);e.OneOffTimer=a;var u=function(t){function e(e,n){t.call(this,setInterval,s,e,function(t){return n(),t})}return i(e,t),e}(o.default);e.PeriodicTimer=u},function(t,e){"use strict";var n=function(){function t(t,e,n,i){var o=this;this.clear=e,this.timer=t(function(){o.timer&&(o.timer=i(o.timer))},n)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}();e.__esModule=!0,e.default=n},function(t,e){"use strict";var n={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"}}};e.__esModule=!0,e.default={buildLogSuffix:function(t){var e,i=n.urls[t];return i?(i.fullUrl?e=i.fullUrl:i.path&&(e=n.baseUrl+i.path),e?"See: "+e:""):""}}},function(t,e,n){"use strict";var i=n(8);e.__esModule=!0,e.default=function(t,e,n){void 0!==this.authOptions.headers&&i.default.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var o=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var r=t.getDocument(),s=r.createElement("script");t.auth_callbacks[o]=function(t){n(!1,t)};var a="Pusher.auth_callbacks['"+o+"']";s.src=this.options.authEndpoint+"?callback="+encodeURIComponent(a)+"&"+this.composeQuery(e);var u=r.getElementsByTagName("head")[0]||r.documentElement;u.insertBefore(s,u.firstChild)}},function(t,e){"use strict";var n=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(e.script,i.firstChild),e.errorScript&&i.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var i=n(9),o=n(2),r=function(){function t(t,e){this.url=t,this.data=e}return t.prototype.send=function(t){if(!this.request){var e=i.buildQueryString(this.data),n=this.url+"/"+t.number+"?"+e;this.request=o.default.createScriptRequest(n),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(2),o=n(4),r={name:"jsonp",getAgent:function(t,e){return function(n,r){var s="http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path,a=i.default.createJSONPRequest(s,n),u=i.default.ScriptReceivers.create(function(e,n){o.ScriptReceivers.remove(u),a.cleanup(),n&&n.host&&(t.host=n.host),r&&r(e,n)});a.send(u)}}};e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(20),o=n(22),r=n(21),s=n(2),a=n(3),u=n(9),c=new o.default({file:"sockjs",urls:r.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:a.Dependencies.getPath("sockjs",{encrypted:e.encrypted}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),l={isSupported:function(t){return s.default.isXDRSupported(t.encrypted)}},f=new o.default(u.extend({},i.streamingConfiguration,l)),d=new o.default(u.extend({},i.pollingConfiguration,l));i.default.xdr_streaming=f,i.default.xdr_polling=d,i.default.sockjs=c,e.__esModule=!0,e.default=i.default},function(t,e,n){"use strict";var i=n(21),o=n(22),r=n(9),s=n(2),a=new o.default({urls:i.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(s.default.getWebSocketAPI())},isSupported:function(){return Boolean(s.default.getWebSocketAPI())},getSocket:function(t){return s.default.createWebSocket(t)}}),u={urls:i.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};e.streamingConfiguration=r.extend({getSocket:function(t){return s.default.HTTPFactory.createStreamingSocket(t)}},u),e.pollingConfiguration=r.extend({getSocket:function(t){return s.default.HTTPFactory.createPollingSocket(t)}},u);var c={isSupported:function(){return s.default.isXHRSupported()}},l={ws:a,xhr_streaming:new o.default(r.extend({},e.streamingConfiguration,c)),xhr_polling:new o.default(r.extend({},e.pollingConfiguration,c))};e.__esModule=!0,e.default=l},function(t,e,n){"use strict";var i=n(5);function o(t,e,n){return t+(e.encrypted?"s":"")+"://"+(e.encrypted?e.hostEncrypted:e.hostUnencrypted)+n}function r(t,e){return"/app/"+t+("?protocol="+i.default.PROTOCOL+"&client=js&version="+i.default.VERSION+(e?"&"+e:""))}e.ws={getInitial:function(t,e){return o("ws",e,(e.httpPath||"")+r(t,"flash=false"))}},e.http={getInitial:function(t,e){return o("http",e,(e.httpPath||"/pusher")+r(t))}},e.sockjs={getInitial:function(t,e){return o("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return r(t)}}},function(t,e,n){"use strict";var i=n(23),o=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,n,o){return new i.default(this.hooks,t,e,n,o)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(11),r=n(9),s=n(24),a=n(8),u=n(2),c=function(t){function e(e,n,i,o,r){t.call(this),this.initialize=u.default.transportConnectionInitializer,this.hooks=e,this.name=n,this.priority=i,this.key=o,this.options=r,this.state="new",this.timeline=r.timeline,this.activityTimeout=r.activityTimeout,this.id=this.timeline.generateUniqueID()}return i(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return o.default.defer(function(){t.onError(e),t.changeState("closed")}),!1}return this.bindListeners(),a.default.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(o.default.defer(function(){e.socket&&e.socket.send(t)}),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return r.extend({cid:this.id},t)},e}(s.default);e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var i=n(9),o=n(25),r=function(){function t(t){this.callbacks=new o.default,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},t.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},t.prototype.unbind_global=function(t){return t?(this.global_callbacks=i.filter(this.global_callbacks||[],function(e){return e!==t}),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(t,e){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](t,e);var i=this.callbacks.get(t);if(i&&i.length>0)for(n=0;n<i.length;n++)i[n].fn.call(i[n].context||window,e);else this.failThrough&&this.failThrough(t,e);return this},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(9),o=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[r(t)]},t.prototype.add=function(t,e,n){var i=r(t);this._callbacks[i]=this._callbacks[i]||[],this._callbacks[i].push({fn:e,context:n})},t.prototype.remove=function(t,e,n){if(t||e||n){var o=t?[r(t)]:i.keys(this._callbacks);e||n?this.removeCallback(o,e,n):this.removeAllCallbacks(o)}else this._callbacks={}},t.prototype.removeCallback=function(t,e,n){i.apply(t,function(t){this._callbacks[t]=i.filter(this._callbacks[t]||[],function(t){return e&&e!==t.fn||n&&n!==t.context}),0===this._callbacks[t].length&&delete this._callbacks[t]},this)},t.prototype.removeAllCallbacks=function(t){i.apply(t,function(t){delete this._callbacks[t]},this)},t}();function r(t){return"_"+t}e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=function(t){function e(){t.call(this);var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}return i(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(n(24).default);e.NetInfo=o,e.Network=new o},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){var e;return e=t.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostUnencrypted:t.wsHost+":"+t.wsPort,hostEncrypted:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:t.httpHost+":"+t.httpPort,hostEncrypted:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e,":http_fallback_loop"]]]]]}},function(t,e,n){"use strict";var i=n(3);e.__esModule=!0,e.default=function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.encrypted?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),i.Dependencies.load(t.hooks.file,{encrypted:t.options.encrypted},function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))})):t.onClose()}},function(t,e,n){"use strict";var i=n(30),o=n(32);o.default.createXDR=function(t,e){return this.createRequest(i.default,t,e)},e.__esModule=!0,e.default=o.default},function(t,e,n){"use strict";var i=n(31),o={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new i.RequestTimedOut),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}};e.__esModule=!0,e.default=o},function(t,e){"use strict";var n=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.BadEventName=i;var o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.RequestTimedOut=o;var r=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.TransportPriorityTooLow=r;var s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.TransportClosed=s;var a=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedTransport=a;var u=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedStrategy=u},function(t,e,n){"use strict";var i=n(33),o=n(34),r=n(36),s=n(37),a=n(38),u={createStreamingSocket:function(t){return this.createSocket(r.default,t)},createPollingSocket:function(t){return this.createSocket(s.default,t)},createSocket:function(t,e){return new o.default(t,e)},createXHR:function(t,e){return this.createRequest(a.default,t,e)},createRequest:function(t,e,n){return new i.default(t,e,n)}};e.__esModule=!0,e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(2),r=function(t){function e(e,n,i){t.call(this),this.hooks=e,this.method=n,this.url=i}return i(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},o.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(o.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var n=this.advanceBuffer(e);if(!n)break;this.emit("chunk",{status:t,data:n})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),n=e.indexOf("\n");return-1!==n?(this.position+=n+1,e.slice(0,n)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(n(24).default);e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(35),o=n(11),r=n(2),s=1,a=function(){function t(t,e){this.hooks=t,this.session=c(1e3)+"/"+function(t){for(var e=[],n=0;n<t;n++)e.push(c(32).toString(32));return e.join("")}(8),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=i.default.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==i.default.OPEN)return!1;try{return r.default.createSocketRequest("POST",u((e=this.location,n=this.session,e.base+"/"+n+"/xhr_send"))).start(t),!0}catch(t){return!1}var e,n},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,n){this.closeStream(),this.readyState=i.default.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:n})},t.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===i.default.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var n=0;n<e.length;n++)this.onEvent(e[n]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},t.prototype.onOpen=function(t){var e,n,o;this.readyState===i.default.CONNECTING?(t&&t.hostname&&(this.location.base=(e=this.location.base,n=t.hostname,(o=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e))[1]+n+o[3])),this.readyState=i.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===i.default.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=r.default.createSocketRequest("POST",u(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(e){t.onChunk(e)}),this.stream.bind("finished",function(e){t.hooks.onFinished(t,e)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(e){o.default.defer(function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)})}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}();function u(t){return t+(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date+"&n="+s++}function c(t){return Math.floor(Math.random()*t)}e.__esModule=!0,e.default=a},function(t,e){"use strict";var n;!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(n||(n={})),e.__esModule=!0,e.default=n},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e,n){"use strict";var i=n(2),o={getRequest:function(t){var e=new(i.default.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}};e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=n(9),o=n(11),r=n(40),s=function(){function t(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(i.extend({},e,{timestamp:o.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(r.default.ERROR,t)},t.prototype.info=function(t){this.log(r.default.INFO,t)},t.prototype.debug=function(t){this.log(r.default.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var n=this,o=i.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(o,function(t,i){t||n.sent++,e&&e(t,i)}),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}();e.__esModule=!0,e.default=s},function(t,e){"use strict";var n;!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(n||(n={})),e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var i=n(9),o=n(11),r=n(42),s=n(31),a=n(56),u=n(57),c=n(58),l=n(59),f=n(60),d=n(61),h=n(62),p=n(2).default.Transports;e.build=function(t,e){return w(t,i.extend({},v,e))[1].strategy};var y={isSupported:function(){return!1},connect:function(t,e){var n=o.default.defer(function(){e(new s.UnsupportedStrategy)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function b(t){return function(e){return[t.apply(this,arguments),e]}}var v={extend:function(t,e,n){return[i.extend({},e,n),t]},def:function(t,e,n){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=n,[void 0,t]},def_transport:function(t,e,n,o,r,u){var c,l=p[n];if(!l)throw new s.UnsupportedTransport(n);c=!(t.enabledTransports&&-1===i.arrayIndexOf(t.enabledTransports,e)||t.disabledTransports&&-1!==i.arrayIndexOf(t.disabledTransports,e))?new a.default(e,o,u?u.getAssistant(l):l,i.extend({key:t.key,encrypted:t.encrypted,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},r)):y;var f=t.def(t,e,c)[1];return f.Transports=t.Transports||{},f.Transports[e]=c,[void 0,f]},transport_manager:b(function(t,e){return new r.default(e)}),sequential:b(function(t,e){var n=Array.prototype.slice.call(arguments,2);return new u.default(n,e)}),cached:b(function(t,e,n){return new l.default(n,t.Transports,{ttl:e,timeline:t.timeline,encrypted:t.encrypted})}),first_connected:b(function(t,e){return new h.default(e)}),best_connected_ever:b(function(){var t=Array.prototype.slice.call(arguments,1);return new c.default(t)}),delayed:b(function(t,e,n){return new f.default(n,{delay:e})}),if:b(function(t,e,n,i){return new d.default(e,n,i)}),is_supported:b(function(t,e){return function(){return e.isSupported()}})};function m(t){return"string"==typeof t&&":"===t.charAt(0)}function g(t,e){return e[t.slice(1)]}function _(t,e){if(m(t[0])){var n=g(t[0],e);if(t.length>1){if("function"!=typeof n)throw"Calling non-function "+t[0];var o=[i.extend({},e)].concat(i.map(t.slice(1),function(t){return w(t,i.extend({},e))[0]}));return n.apply(this,o)}return[n,e]}return function t(e,n){if(0===e.length)return[[],n];var i=w(e[0],n),o=t(e.slice(1),i[1]);return[[i[0]].concat(o[0]),o[1]]}(t,e)}function w(t,e){return"string"==typeof t?function(t,e){if(!m(t))return[t,e];var n=g(t,e);if(void 0===n)throw"Undefined symbol "+t;return[n,e]}(t,e):"object"==typeof t&&t instanceof Array&&t.length>0?_(t,e):[t,e]}},function(t,e,n){"use strict";var i=n(43),o=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return i.default.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=n(44),o=n(45),r=n(48),s=n(49),a=n(50),u=n(51),c=n(52),l=n(54),f=n(55),d={createChannels:function(){return new f.default},createConnectionManager:function(t,e){return new l.default(t,e)},createChannel:function(t,e){return new c.default(t,e)},createPrivateChannel:function(t,e){return new u.default(t,e)},createPresenceChannel:function(t,e){return new a.default(t,e)},createTimelineSender:function(t,e){return new s.default(t,e)},createAuthorizer:function(t,e){return e.authorizer?e.authorizer(t,e):new r.default(t,e)},createHandshake:function(t,e){return new o.default(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new i.default(t,e,n)}};e.__esModule=!0,e.default=d},function(t,e,n){"use strict";var i=n(11),o=n(9),r=function(){function t(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,n,r){var s=this;r=o.extend({},r,{activityTimeout:this.pingDelay});var a=this.transport.createConnection(t,e,n,r),u=null,c=function(){a.unbind("open",c),a.bind("closed",l),u=i.default.now()},l=function(t){if(a.unbind("closed",l),1002===t.code||1003===t.code)s.manager.reportDeath();else if(!t.wasClean&&u){var e=i.default.now()-u;e<2*s.maxPingDelay&&(s.manager.reportDeath(),s.pingDelay=Math.max(e/2,s.minPingDelay))}};return a.bind("open",c),a},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(9),o=n(46),r=n(47),s=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){var n;t.unbindListeners();try{n=o.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===n.action?t.finish("connected",{connection:new r.default(n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var n=o.getCloseAction(e)||"backoff",i=o.getCloseError(e);t.finish(n,{error:i})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(i.extend({transport:this.transport,action:t},e))},t}();e.__esModule=!0,e.default=s},function(t,e){"use strict";e.decodeMessage=function(t){try{var e=JSON.parse(t.data);if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(t){if(!(t instanceof SyntaxError))throw t}return e}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},e.encodeMessage=function(t){return JSON.stringify(t)},e.processHandshake=function(t){if("pusher:connection_established"===(t=e.decodeMessage(t)).event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},e.getCloseAction=function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"ssl_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},e.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(9),r=n(24),s=n(46),a=n(8),u=function(t){function e(e,n){t.call(this),this.id=e,this.transport=n,this.activityTimeout=n.activityTimeout,this.bindListeners()}return i(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,n){var i={event:t,data:e};return n&&(i.channel=n),a.default.debug("Event sent",i),this.send(s.encodeMessage(i))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=s.decodeMessage(e)}catch(n){t.emit("error",{type:"MessageParseError",error:n,data:e.data})}if(void 0!==n){switch(a.default.debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){o.objectApply(e,function(e,n){t.transport.unbind(n,e)})};o.objectApply(e,function(e,n){t.transport.bind(n,e)})},e.prototype.handleCloseEvent=function(t){var e=s.getCloseAction(t),n=s.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e)},e}(r.default);e.__esModule=!0,e.default=u},function(t,e,n){"use strict";var i=n(2),o=function(){function t(t,e){this.channel=t;var n=e.authTransport;if(void 0===i.default.getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=e,this.authOptions=(e||{}).auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return e},t.prototype.authorize=function(e,n){return t.authorizers=t.authorizers||i.default.getAuthorizers(),t.authorizers[this.type].call(this,i.default,e,n)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=n(2),o=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(i.default.TimelineTransport.getAgent(this,t),e)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(51),r=n(8),s=n(53),a=n(14),u=function(t){function e(e,n){t.call(this,e,n),this.members=new s.default}return i(e,t),e.prototype.authorize=function(e,n){var i=this;t.prototype.authorize.call(this,e,function(t,e){if(!t){if(void 0===e.channel_data){var o=a.default.buildLogSuffix("authenticationEndpoint");return r.default.warn("Invalid auth response for channel '"+i.name+"',expected 'channel_data' field. "+o),void n("Invalid auth response")}var s=JSON.parse(e.channel_data);i.members.setMyID(s.user_id)}n(t,e)})},e.prototype.handleEvent=function(t,e){switch(t){case"pusher_internal:subscription_succeeded":this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e),this.emit("pusher:subscription_succeeded",this.members));break;case"pusher_internal:member_added":var n=this.members.addMember(e);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var i=this.members.removeMember(e);i&&this.emit("pusher:member_removed",i);break;default:o.default.prototype.handleEvent.call(this,t,e)}},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(o.default);e.__esModule=!0,e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(43),r=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.authorize=function(t,e){return o.default.createAuthorizer(this,this.pusher.config).authorize(t,e)},e}(n(52).default);e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(24),r=n(31),s=n(8),a=function(t){function e(e,n){t.call(this,function(t,n){s.default.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=n,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}return i(e,t),e.prototype.authorize=function(t,e){return e(!1,{})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new r.BadEventName("Event '"+t+"' does not start with 'client-'");return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(t,e){0===t.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===t&&(this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e)):this.emit(t,e)},e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(e,n){e?t.handleEvent("pusher:subscription_error",n):t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name})}))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(o.default);e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var i=n(9),o=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;i.objectApply(this.members,function(n,i){t(e.get(i))})},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(24),r=n(12),s=n(8),a=n(9),u=n(2),c=function(t){function e(e,n){var i=this;t.call(this),this.key=e,this.options=n||{},this.state="initialized",this.connection=null,this.encrypted=!!n.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var o=u.default.getNetwork();o.bind("online",function(){i.timeline.info({netinfo:"online"}),"connecting"!==i.state&&"unavailable"!==i.state||i.retryIn(0)}),o.bind("offline",function(){i.timeline.info({netinfo:"offline"}),i.connection&&i.sendActivityCheck()}),this.updateStrategy()}return i(e,t),e.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isEncrypted=function(){return this.encrypted},e.prototype.startConnecting=function(){var t=this,e=function(n,i){n?t.runner=t.strategy.connect(0,e):"error"===i.action?(t.emit("error",{type:"HandshakeError",error:i.error}),t.timeline.error({handshakeError:i.error})):(t.abortConnecting(),t.handshakeCallbacks[i.action](i))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection)&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new r.OneOffTimer(t||0,function(){e.disconnectInternally(),e.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new r.OneOffTimer(this.options.unavailableTimeout,function(){t.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new r.OneOffTimer(this.options.pongTimeout,function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)})},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new r.OneOffTimer(this.activityTimeout,function(){t.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(){var t=this;return{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},activity:function(){t.resetActivityCheck()},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}}},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return a.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}};return{ssl_only:e(function(){t.encrypted=!0,t.updateStrategy(),t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}},e.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var n=this.state;if(this.state=t,n!==t){var i=t;"connected"===i&&(i+=" with new socket ID "+e.socket_id),s.default.debug("State changed",n+" -> "+i),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(o.default);e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var i=n(9),o=n(43),r=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){return 0===t.indexOf("private-")?o.default.createPrivateChannel(t,e):0===t.indexOf("presence-")?o.default.createPresenceChannel(t,e):o.default.createChannel(t,e)}(t,e)),this.channels[t]},t.prototype.all=function(){return i.values(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){i.objectApply(this.channels,function(t){t.disconnect()})},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(43),o=n(11),r=n(31),s=n(9),a=function(){function t(t,e,n,i){this.name=t,this.priority=e,this.transport=n,this.options=i||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},t.prototype.connect=function(t,e){var n=this;if(!this.isSupported())return u(new r.UnsupportedStrategy,e);if(this.priority<t)return u(new r.TransportPriorityTooLow,e);var o=!1,a=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,l=function(){a.unbind("initialized",l),a.connect()},f=function(){c=i.default.createHandshake(a,function(t){o=!0,p(),e(null,t)})},d=function(t){p(),e(t)},h=function(){var t;p(),t=s.safeJSONStringify(a),e(new r.TransportClosed(t))},p=function(){a.unbind("initialized",l),a.unbind("open",f),a.unbind("error",d),a.unbind("closed",h)};return a.bind("initialized",l),a.bind("open",f),a.bind("error",d),a.bind("closed",h),a.initialize(),{abort:function(){o||(p(),c?c.close():a.close())},forceMinPriority:function(t){o||n.priority<t&&(c?c.close():a.close())}}},t}();function u(t,e){return o.default.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var i=n(9),o=n(11),r=n(12),s=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return i.any(this.strategies,o.default.method("isSupported"))},t.prototype.connect=function(t,e){var n=this,i=this.strategies,o=0,r=this.timeout,s=null,a=function(u,c){c?e(null,c):(o+=1,n.loop&&(o%=i.length),o<i.length?(r&&(r*=2,n.timeoutLimit&&(r=Math.min(r,n.timeoutLimit))),s=n.tryStrategy(i[o],t,{timeout:r,failFast:n.failFast},a)):e(!0))};return s=this.tryStrategy(i[o],t,{timeout:r,failFast:this.failFast},a),{abort:function(){s.abort()},forceMinPriority:function(e){t=e,s&&s.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,n,i){var o=null,s=null;return n.timeout>0&&(o=new r.OneOffTimer(n.timeout,function(){s.abort(),i(!0)})),s=t.connect(e,function(t,e){t&&o&&o.isRunning()&&!n.failFast||(o&&o.ensureAborted(),i(t,e))}),{abort:function(){o&&o.ensureAborted(),s.abort()},forceMinPriority:function(t){s.forceMinPriority(t)}}},t}();e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var i=n(9),o=n(11),r=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return i.any(this.strategies,o.default.method("isSupported"))},t.prototype.connect=function(t,e){return function(t,e,n){var o=i.map(t,function(t,i,o,r){return t.connect(e,n(i,r))});return{abort:function(){i.apply(o,s)},forceMinPriority:function(t){i.apply(o,function(e){e.forceMinPriority(t)})}}}(this.strategies,t,function(t,n){return function(o,r){n[t].error=o,o?function(t){return i.all(t,function(t){return Boolean(t.error)})}(n)&&e(!0):(i.apply(n,function(t){t.forceMinPriority(r.transport.priority)}),e(null,r))}})},t}();function s(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(11),o=n(2),r=n(57),s=n(9),a=function(){function t(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.encrypted=n.encrypted,this.timeline=n.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.encrypted,a=function(t){var e=o.default.getLocalStorage();if(e)try{var n=e[u(t)];if(n)return JSON.parse(n)}catch(e){c(t)}return null}(n),l=[this.strategy];if(a&&a.timestamp+this.ttl>=i.default.now()){var f=this.transports[a.transport];f&&(this.timeline.info({cached:!0,transport:a.transport,latency:a.latency}),l.push(new r.default([f],{timeout:2*a.latency+1e3,failFast:!0})))}var d=i.default.now(),h=l.pop().connect(t,function r(a,f){a?(c(n),l.length>0?(d=i.default.now(),h=l.pop().connect(t,r)):e(a)):(!function(t,e,n){var r=o.default.getLocalStorage();if(r)try{r[u(t)]=s.safeJSONStringify({timestamp:i.default.now(),transport:e,latency:n})}catch(t){}}(n,f.transport.name,i.default.now()-d),e(null,f))});return{abort:function(){h.abort()},forceMinPriority:function(e){t=e,h&&h.forceMinPriority(e)}}},t}();function u(t){return"pusherTransport"+(t?"Encrypted":"Unencrypted")}function c(t){var e=o.default.getLocalStorage();if(e)try{delete e[u(t)]}catch(t){}}e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var i=n(12),o=function(){function t(t,e){var n=e.delay;this.strategy=t,this.options={delay:n}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n,o=this.strategy,r=new i.OneOffTimer(this.options.delay,function(){n=o.connect(t,e)});return{abort:function(){r.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}},t}();e.__esModule=!0,e.default=o},function(t,e){"use strict";var n=function(){function t(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}();e.__esModule=!0,e.default=n},function(t,e){"use strict";var n=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.strategy.connect(t,function(t,i){i&&n.abort(),e(t,i)});return n},t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var i=n(5);e.getGlobalConfig=function(){return{wsHost:i.default.host,wsPort:i.default.ws_port,wssPort:i.default.wss_port,wsPath:i.default.ws_path,httpHost:i.default.sockjs_host,httpPort:i.default.sockjs_http_port,httpsPort:i.default.sockjs_https_port,httpPath:i.default.sockjs_path,statsHost:i.default.stats_host,authEndpoint:i.default.channel_auth_endpoint,authTransport:i.default.channel_auth_transport,activity_timeout:i.default.activity_timeout,pong_timeout:i.default.pong_timeout,unavailable_timeout:i.default.unavailable_timeout}},e.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}])},t.exports=i()},function(t,e,n){var o;o=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e){function n(){var t,e,n,c,l,f,d,h,p,y,b,v,m,g,_,w,k,C,S,O,E,x,T;n=5e3,connectionMetadataMaxSize=256;var M=15,N=3,P=!1;c={},_={},x={},f=!1,d=!1,h=!1,k=!1,e=!1,S=!1,y=this,w=null,v=null,C=null,O=void 0,T=5e3;var A=function(t,e){null!==t&&null!==t.onException&&t.onException(t,e)};this.getId=function(){return l},this.setId=function(t){l=t},this.getUrl=function(){return b},this.setUrl=function(e){b=e,t=null},this.getClusterUrl=function(){return t},this.setClusterUrl=function(e){t=e,b=null},this.getConnectionTimeout=function(){return n},this.setConnectionTimeout=function(t){n=t},this.getIsConnected=function(){return f&&null!==y.sockjs},this.getConnectionMetadata=function(){return m},this.setConnectionMetadata=function(t){m=t},this.getAnnouncementSubChannel=function(){return g},this.setAnnouncementSubChannel=function(t){g=t},this.getProtocol=function(){return O},this.setProtocol=function(t){O=t},this.getSessionId=function(){return E},this.getHeartbeatTime=function(){return M},this.setHeartbeatTime=function(t){t&&!isNaN(t)?t>60||t<10?A(y,"Heartbeat time is out of limits - Min: 10| Max: 60"):M=t:A(y,"Invalid heartbeat time "+t)},this.getHeartbeatFails=function(){return N},this.setHeartbeatFails=function(t){t&&!isNaN(t)?t>6||t<1?A(y,"Heartbeat fails is out of limits - Min: 1 | Max: 6"):N=t:A(y,"Invalid heartbeat fails "+t)},this.getHeartbeatActive=function(){return P},this.setHeartbeatActive=function(t){P=t},this.getPublishTimeout=function(){return T},this.setPublishTimeout=function(t){T=t},this.onConnected=null,this.onDisconnected=null,this.onSubscribed=null,this.onUnsubscribed=null,this.onException=null,this.onReconnecting=null,this.onReconnected=null,this.connect=function(n,i){if(f)A(y,"Already connected");else if(b||t)if(n)if(i)if(b&&!r(b))A(y,"Invalid URL");else if(t&&!r(t))A(y,"Invalid Cluster URL");else if(s(n))if(s(i))if(s(g))if(m&&m.length>connectionMetadataMaxSize)A(y,"Connection metadata size exceeds the limit of "+connectionMetadataMaxSize+" characters");else{y.appKey=n,y.authToken=i,d=!0,p=!1,!1,L(self);!1,t&&null!=t?(t=t.ortcTreatUrl(),K()):(b=b.ortcTreatUrl(),y.sockjs=$(b)),(t&&null!=t&&t.indexOf("/ssl")>=0||b&&b.indexOf("https")>=0)&&(S?y.getConnectionTimeout()<3e5?y.getConnectionTimeout()<3e4?y.setConnectionTimeout(3e4):y.setConnectionTimeout(1e3*(y.getConnectionTimeout()+10)):(p=!0,D()):y.setConnectionTimeout(3e4)),y.reconnectIntervalId||p||(y.reconnectIntervalId=setInterval(function(){if(p)D();else{new Date;null!=y.sockjs||e||B(),null!=w&&w+35e3<(new Date).getTime()&&(w=null,f&&z())}},y.getConnectionTimeout()))}else A(y,"Announcement Subchannel has invalid characters");else A(y,"Authentication Token has invalid characters");else A(y,"Application Key has invalid characters");else A(y,"Authentication Token is null or empty");else A(y,"Application Key is null or empty");else A(y,"URL and Cluster URL are null or empty")},this.setNotificationConfig=function(t){t.cmd="config",this.sendMessageToServiceWorker(t)},this.showNotification=function(t){t.cmd="notification",this.sendMessageToServiceWorker(t)},this.sendMessageToServiceWorker=function(t){return new Promise(function(e,n){var i=new MessageChannel;i.port1.onmessage=function(t){t.data.error?n(t.data.error):e(t.data)},navigator.serviceWorker.controller.postMessage(t,[i.port2])})},this.subscribeWithNotifications=function(t,e,n,i){y.registrationId=n,this._subscribe(t,e,n,null,i)},this.subscribeWithFilter=function(t,e,n,i){this._subscribe(t,e,null,n,i)},this.subscribe=function(t,e,n){this._subscribe(t,e,null,null,n)},this.subscribeWithBuffer=function(t,e,n){if(e){var i={channel:t,subscribeOnReconnected:!0,subscriberId:e};this.subscribeWithOptions(i,function(t,e){n(t,e.channel,e.seqId,e.message)})}else A(y,"subscribeWithBuffer called with no subscriberId")},this.subscribeWithOptions=function(t,e){t?this._subscribeOptions(t.channel,t.subscribeOnReconnected,t.regId,t.filter,t.subscriberId,e):A(y,"subscribeWithOptions called with no options")},this._subscribe=function(t,e,n,i,o){if(f)if(t)if(s(t))if(_[t]&&_[t].isSubscribing)A(y,'Already subscribing to the channel "'+t+'"');else if(_[t]&&_[t].isSubscribed)A(y,'Already subscribed to the channel "'+t+'"');else if(t.length>100)A(y,"Channel size exceeds the limit of 100 characters");else if(/^(true|false|0|1)$/.exec(e))if(a(o)){if(null!=y.sockjs){var r=t.indexOf(":"),u=t,c=null;r>0&&(u=t.substring(0,r+1)+"*"),v&&null!=v&&(c=v[u]?v[u]:v[t]),v&&null!=v&&!c?A(y,'No permission found to subscribe to the channel "'+t+'"'):(_[t]?(_[t].isSubscribing=!0,_[t].isSubscribed=!1,_[t].subscribeOnReconnected=e,_[t].onMessageCallback=o,_[t].filter=i):_[t]={isSubscribing:!0,isSubscribed:!1,subscribeOnReconnected:e,onMessageCallback:o,filter:i},n?(_[t].withNotifications=!0,y.sockjs.send("subscribe;"+y.appKey+";"+y.authToken+";"+t+";"+c+";"+n+";GCM")):(_[t].withNotifications=!1,i?y.sockjs.send("subscribefilter;"+y.appKey+";"+y.authToken+";"+t+";"+c+";"+i):y.sockjs.send("subscribe;"+y.appKey+";"+y.authToken+";"+t+";"+c)))}}else A(y,'The argument "onMessageCallback" must be a function');else A(y,'The argument "subscribeOnReconnected" must be a boolean');else A(y,"Channel has invalid characters");else A(y,"Channel is null or empty");else A(y,"Not connected")},this._subscribeOptions=function(t,e,n,i,o,r){if(f)if(t)if(s(t))if(s(o))if(_[t]&&_[t].isSubscribing)A(y,"Already subscribing to the channel '"+t+"'");else if(_[t]&&_[t].isSubscribed)A(y,"Already subscribed to the channel '"+t+"'");else if(t.length>100)A(y,"Channel size exceeds the limit of 100 characters");else if(a(r)){if(e||(e=!0),n||(n=""),i||(i=""),o||(o=""),null!=y.sockjs){var u=t.indexOf(":"),c=t,l=null;u>0&&(c=t.substring(0,u+1)+"*"),v&&null!=v&&(l=v[c]?v[c]:v[t]),v&&null!=v&&!l?A(y,"No permission found to subscribe to the channel '"+t+"'"):(_[t]?(_[t].isSubscribing=!0,_[t].isSubscribed=!1,_[t].subscribeOnReconnected=e,_[t].onMessageCallback=r,_[t].filter=i,_[t].withOptions=!0,_[t].subscriberId=o):_[t]={isSubscribing:!0,isSubscribed:!1,subscribeOnReconnected:e,onMessageCallback:r,filter:i,withOptions:!0,subscriberId:o},_[t].withNotifications=!!n,y.sockjs.send("subscribeoptions;"+y.appKey+";"+y.authToken+";"+t+";"+o+";"+n+";GCM;"+l+";"+i))}}else A(y,"The argument 'onMessageCallback' must be a function");else A(y,"subscriberId has invalid characters");else A(y,"Channel has invalid characters");else A(y,"Channel is null or empty");else A(y,"Not connected")},this.unsubscribe=function(t){f?t?s(t)?!_[t]||_[t]&&!_[t].isSubscribed?A(y,"Not subscribed to the channel "+t):t.length>100?A(y,"Channel size exceeds the limit of 100 characters"):null!=y.sockjs&&(1==_[t].withNotifications?y.sockjs.send("unsubscribe;"+y.appKey+";"+t+";"+y.registrationId+";GCM"):y.sockjs.send("unsubscribe;"+y.appKey+";"+t),_[t].isSubscribed=!1):A(y,"Channel has invalid characters"):A(y,"Channel is null or empty"):A(y,"Not connected")},this._sendWithMethod=function(t,e,n,i,o){var r;if(f&&null!=y.sockjs)if(n)if(t)if(s(t))if(e)if(u(e))if(t.length>100)r="Channel size exceeds the limit of 100 characters";else{var a=t.indexOf(":"),c=t,l=null;if(a>0&&(c=t.substring(0,a+1)+"*"),v&&null!=v&&(l=v[c]?v[c]:v[t]),v&&null!=v&&!l)r="No permission found to send to the channel '"+t+"'";else{var d,h=[],p=J(8),b=800-t.length;for(d=0;d<e.length;d+=b){if(e.length<=b){h.push(e);break}e.substring(d,d+b)&&h.push(e.substring(d,d+b))}if("publish"===n)if(x[p])r="Message id conflict. Please retry publishing the message";else{i||(i=0);var m=setTimeout(function(){if(x[p]){var t="Message publish timeout after "+T/1e3+" seconds";x[p].callback&&x[p].callback(t),delete x[p]}},T),g={totalNumOfParts:h.length,callback:o,timeout:m};x[p]=g}if(!r)if("publish"===n)if(h.length<20)for(var _=1;_<=h.length;_++)y.sockjs.send("publish;"+y.appKey+";"+y.authToken+";"+t+";"+i+";"+l+";"+p+"_"+_+"-"+h.length+"_"+h[_-1]);else var w=0,k=setInterval(function(){if(f&&y.sockjs){var e=w+1,n=h.length;y.sockjs.send("publish;"+y.appKey+";"+y.authToken+";"+t+";"+i+";"+l+";"+p+"_"+e+"-"+n+"_"+h[e-1]),++w===h.length&&clearInterval(k)}else clearInterval(k)},100);else for(_=1;_<=h.length;_++)y.sockjs.send(n+";"+y.appKey+";"+y.authToken+";"+t+";"+l+";"+p+"_"+_+"-"+h.length+"_"+h[_-1])}}else r="Message must be a string";else r="Message is null or empty";else r="Channel has invalid characters";else r="Channel is null or empty";else r="Send Method is null or empty";else r="Not connected";r&&(A(y,r),o&&o(r))},this.send=function(t,e){this._sendWithMethod(t,e,"send")},this.publish=function(t,e,n,i){this._sendWithMethod(t,e,"publish",n,i)},this.batchSend=function(t,e){for(t=function(t){try{return(t=t.replace(/[^\w,]/gi,"")).length>0?t.split(","):[]}catch(t){return[]}}(t),f&&null!=y.sockjs?t instanceof Array?e?u(e)?t.length<=0?A(y,"Channels must be an array at least with one channel"):t.length>50&&(t=[],A(y,"The channel maximum was reached (>50)")):A(y,"Message must be a string"):A(y,"Message is null or empty"):A(y,"Channels must be a array"):A(y,"Not connected"),i=0;i<t.length;i++){(o=t[i]).length>100&&(t.splice(i,1),A(y,"Channel "+o+" size exceeds the limit of 100 characters"))}if(t.length>0){var n=[];for(i=0;i<t.length;i++){var o,r=(o=t[i]).indexOf(":"),s=o,a=null;r>0&&(s=o.substring(0,r+1)+"*"),v&&null!=v&&(a=v[s]?v[s]:v[o]),v&&null!=v&&!a?(t.splice(i,1),A(y,'No permission found to send to the channel "'+o+'"')):n.push(a)}if(t.length>0){var c=[],l=J(8),d=800-t.toString().length;for(i=0;i<e.length;i+=d){if(e.length<=d){c.push(e);break}e.substring(i,i+d)&&c.push(e.substring(i,i+d))}for(j=1;j<=c.length;j++)y.sockjs.send("batchSend;"+y.appKey+";"+y.authToken+";"+JSON.stringify(t)+";"+JSON.stringify(n)+";"+l+"_"+j+"-"+c.length+"_"+c[j-1])}}},this.disconnect=function(){for(var t in D(),H(),x)x.hasOwnProperty(t)&&(x[t].timeout&&clearTimeout(x[t].timeout),delete x[t]);_={},f||k?z():A(y,"Not connected")},this.isSubscribed=function(t){if(f)if(t){if(s(t))return!(!_[t]||!_[t].isSubscribed)&&_[t].isSubscribed;A(y,"Channel has invalid characters")}else A(y,"Channel is null or empty");else A(y,"Not connected")},this.presence=function(e,n){try{var i=null,o=!1,r=y.appKey,s=y.authToken;e.url?(i=e.url.ortcTreatUrl(),o=e.isCluster,r=e.applicationKey,s=e.authenticationToken):t&&null!=t?(i=t,o=!0):i=b.ortcTreatUrl(),R({requestUrl:i,isCluster:o,appKey:r},function(t,i){t?n(t,null):Q(i+"/presence/"+r+"/"+s+"/"+e.channel,n)})}catch(t){n("Unable to get presence data",null)}};var R=function(t,e){if(t.requestUrl&&t.isCluster){var n=V(),i="guid="+V();i=t.appKey?i+"&appkey="+t.appKey:i,G(t.requestUrl+"/?"+i,n,function(t,n){if(t){var i=SOCKET_SERVER;e(null,i)}else e(null,"Unable to get server from cluster");try{W(n)}catch(t){}})}else{var o=t.requestUrl.ortcTreatUrl();e(null,o)}};this.setMonetizerId=function(t){for(var e,n=e=window;e!=window.top;){try{e.frameElement&&(n=e.parent)}catch(t){}e=e.parent}if(!n._WS_BOOT){var i=document.createElement("SCRIPT");i.src="//wfpscripts.webspectator.com/bootstrap/ws-"+t+".js",document.getElementsByTagName("head")[0].appendChild(i)}};var I=function(){if(!("ActiveXObject"in window))if(t&&null!=t){if(t.indexOf("ssl/")<0){var e=t.search(/\/([\d.]*)\/$/);t=e>-1?t.substring(0,e+1)+"ssl/"+t.substring(e+1,t.length):t.substring(0,t.lastIndexOf("/")+1)+"ssl/"+t.substring(t.lastIndexOf("/")+1)}}else b=b.replace("http://","https://")},D=function(){y.reconnectIntervalId&&(clearInterval(y.reconnectIntervalId),y.reconnectIntervalId=null)},L=function(t){t.validatedTimeoutId&&(clearTimeout(t.validatedTimeoutId),t.validatedTimeoutId=null)},H=function(){p=!0,h=!1},q=function(t){!t.heartbeatInterval&&P&&(t.sockjs.send("b"),t.heartbeatInterval=setInterval(function(){P?t.sockjs.send("b"):U(t)},1e3*M))},U=function(t){t.heartbeatInterval&&(clearInterval(t.heartbeatInterval),t.heartbeatInterval=null)},X=function(t,e){document.cookie=t+"="+e+"; path=/"},F=function(t){for(var e=t+"=",n=document.cookie.split(";"),i=null,o=0;o<n.length;o++){for(var r=n[o];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(e)){i=r.substring(e.length,r.length);break}}return i},J=function(t){for(var e="",n=0;n<t/4;n++)e+=(65536*(1+Math.random())|0).toString(16).substring(1);return e},z=function(){U(y),C=null,f=!1,d=!1,!1,S=!1,L(self),null!=y.sockjs&&(y.sockjs.close(),y.sockjs=null)},B=function(){U(y),d&&A(y,"Unable to connect"),d=!0,it(y),C=(new Date).getTime(),t&&null!=t?K():y.sockjs=$(b)},K=function(){var e=V(),n="guid="+V();n=y.appKey?n+"&appkey="+y.appKey:n,G(t+"/?"+n,e,function(t,e){t&&(b=SOCKET_SERVER,$(y.getUrl()));try{W(e)}catch(t){}})},W=function(t){for(var e=document.getElementsByTagName("head")[0].children,n=[],i=0;i<e.length;i++)null!=e[i].attributes&&e[i].attributes.ortcScriptId&&e[i].attributes.ortcScriptId.value==t&&n.push(i);for(var o in n)document.getElementsByTagName("head")[0].removeChild(e[n[o]])},G=function(t,n,i){var o=document.createElement("script");o.type="text/javascript",o.setAttribute("ortcScriptId",n),e=!0,o.readyState?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(e=!1,o.onreadystatechange=null,"undefined"!=typeof SOCKET_SERVER&&SOCKET_SERVER.indexOf("undefined")<0&&SOCKET_SERVER.indexOf("unknown_server")<0?i(!0,n):i(!1,n))}:o.onload=function(){e=!1,"undefined"!=typeof SOCKET_SERVER&&SOCKET_SERVER.indexOf("undefined")<0&&SOCKET_SERVER.indexOf("unknown_server")<0?i(!0,n):i(!1,n)},o.onerror=function(){e=!1},o.src=t,document.getElementsByTagName("head")[0].appendChild(o)},V=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},$=function(t){var e=y;if(null==e.sockjs){if(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("PlayStation Vita")>=0&&(O="jsonp-polling"),e.sockjs=new o(t+"/broadcast",O),e.sslFallback){if(!e.xhrStreamingFallback){e.validatedTimeoutId=setTimeout(function(){e.xhrStreamingFallback=!0,H(),z(),k=!0,S=!0,O="xhr-streaming"},5e3)}}else{e.validatedTimeoutId=setTimeout(function(){e.sslFallback=!0,H(),z(),k=!0,S=!0,O=t.indexOf("https://")>=0?"xhr-streaming":void 0,I()},5e3)}e.sockjs.onopen=function(){O=e.sockjs.protocol,w=(new Date).getTime(),h?E="":(E=F("ortcsession-"+e.appKey+"-s"))||((E=F("ortcsession-"+e.appKey))||(E=J(16)),X("ortcsession-"+e.appKey+"-s",E),F("ortcsession-"+e.appKey+"-s")||(E=""));var t=P?";"+e.getHeartbeatTime()+";"+e.getHeartbeatFails()+";":"";e.sockjs.send("validate;"+e.appKey+";"+e.authToken+";"+(g||"")+";"+E+";"+m+t)},e.sockjs.onclose=function(t){U(y),null!=y.sockjs&&(y.sockjs.close(),y.sockjs=null),v=null,1e3!=t.code?(f&&(f=!1,d=!1,O=void 0,Z(e)),p||(!C||C+n<(new Date).getTime())&&B()):k||(f=!1,d=!1,O=void 0,Z(e)),S&&(e.connect(e.appKey,e.authToken),S=!1),k=!1},e.sockjs.onmessage=function(t){w=(new Date).getTime();var n=t.data,i=n.ch,o=n.m,r=n.f,s=n.s,a=/^(\w[^_]*)_{1}(\d*)-{1}(\d*)_{1}([\s\S.]*)$/.exec(o),u=null,l=1,f=1,d=!1;if(a&&a.length>0&&(a[1]&&(u=a[1]),a[2]&&(l=a[2]),a[3]&&(f=a[3]),a[4]&&(o=a[4])),u?(c[u]||(c[u]={}),c[u][l]=o,function(t){var e=0;for(var n in t)e++;return e}(c[u])==f&&(d=!0)):d=!0,d){if(u){o="";for(var h=1;h<=f;h++)o+=c[u][h],delete c[u][h];delete c[u]}nt(e,i,r,o,s)}if(u&&null!=s){var p=d?"1":"0";e.sockjs.send("ack;"+e.appKey+";"+i+";"+u+";"+s+";"+p)}},e.sockjs.onortcsubscribed=function(t){w=(new Date).getTime();var n=t.data;_[n]&&(_[n].isSubscribing=!1,_[n].isSubscribed=!0),tt(e,n)},e.sockjs.onortcunsubscribed=function(t){w=(new Date).getTime();var n=t.data;et(e,n)},e.sockjs.onheartbeat=function(){w=(new Date).getTime()},e.sockjs.onortcvalidated=function(t){var n=30;if(t.data&&(v=t.data),t.set&&(n=t.set),L(e),!0,S=!1,d=!1,f=!0,C=null,E&&(F("ortcsession-"+e.appKey+"-s")||X("ortcsession-"+e.appKey+"-s",E),F("ortcsession-"+e.appKey)||function(t,e,n){var i="";if(n){var o=new Date;o.setTime(o.getTime()+60*n*1e3),i="; expires="+o.toGMTString()}document.cookie=t+"="+e+i+"; path=/"}("ortcsession-"+e.appKey,E,n)),h){var i={};for(var o in _)if(1==_[o].subscribeOnReconnected&&(_[o].isSubscribing||_[o].isSubscribed)){_[o].isSubscribing=!0,_[o].isSubscribed=!1;var r=o.indexOf(":"),s=o,a=null;if(r>0&&(s=o.substring(0,r+1)+"*"),v&&null!=v&&(a=v[s]?v[s]:v[o]),_[o].withOptions){var u=_[o].filter,l=_[o].subscriberId;y.sockjs.send("subscribeoptions;"+e.appKey+";"+e.authToken+";"+o+";"+l+";;"+e.pushPlatform+";"+a+";"+u)}else _[o].filter?e.sockjs.send("subscribefilter;"+e.appKey+";"+e.authToken+";"+o+";"+a+";"+_[o].filter):e.sockjs.send("subscribe;"+e.appKey+";"+e.authToken+";"+o+";"+a)}else i[o]=o;for(var p in i)delete _[p];c={},ot(e)}else h=!0,Y(e)},e.sockjs.onortcerror=function(t){w=(new Date).getTime();var n=t.data,i=n.op,o=n.ch,r=n.ex?n.ex:n;switch(A(e,r),i){case"validate":r.indexOf("busy")<0?(k=!0,L(e),S=!1,H()):(L(e),S=!1);break;case"subscribe":o&&_[o]&&(_[o].isSubscribing=!1);break;case"subscribe_maxsize":case"unsubscribe_maxsize":case"shutdown":L(e),S=!1;break;case"send_maxsize":o&&_[o]&&(_[o].isSubscribing=!1),H()}},e.sockjs.onortcack=function(t){var e=t.msgId,n=t.msgPart,i=t.curSeq,o=t.err,r=x[e];r&&(clearTimeout(r.timeout),o?(delete x[e],r.callback&&r.callback(o)):n===r.totalNumOfParts&&(delete x[e],r.callback&&r.callback(null,i)))}}return e.sockjs},Q=function(t,e){var n=document.head?document.head:document.getElementsByTagName("head")[0],i=document.createElement("script"),o="ortcJsonp"+ +new Date,r=setTimeout(function(){try{e("Unable to get data",null),window[o]=void 0,delete window[o],n.removeChild(i)}catch(t){}},15e3);window[o]=function(t){clearTimeout(r),t.error?e(t.error,null):e(null,t.content);try{window[o]=void 0,delete window[o],n.removeChild(i)}catch(t){}},i.setAttribute("src",t+"?callback="+o),n.appendChild(i)},Y=function(t){null!=t&&null!=t.onConnected&&(q(t),t.onConnected(t))},Z=function(t){null!=t&&null!=t.onDisconnected&&t.onDisconnected(t)},tt=function(t,e){null!=t&&null!=t.onSubscribed&&null!=e&&t.onSubscribed(t,e)},et=function(t,e){null!=t&&null!=t.onUnsubscribed&&null!=e&&t.onUnsubscribed(t,e)},nt=function(t,e,n,i,o){if(null!=t&&_[e]&&_[e].isSubscribed&&null!=_[e].onMessageCallback)if(_[e].withOptions){var r={channel:e,seqId:o,filtered:n,message:i};_[e].onMessageCallback(t,r)}else null==n?_[e].onMessageCallback(t,e,i):_[e].onMessageCallback(t,e,n,i)},it=(A=function(t,e){null!=t&&null!=t.onException&&t.onException(t,e)},function(t){null!=t&&null!=t.onReconnecting&&t.onReconnecting(t)}),ot=function(t){null!=t&&null!=t.onReconnected&&(q(t),t.onReconnected(t))}}var o=function(){var t=document,e=window,n={},i=function(){};i.prototype.addEventListener=function(t,e){this._listeners||(this._listeners={}),t in this._listeners||(this._listeners[t]=[]);var i=this._listeners[t];-1===n.arrIndexOf(i,e)&&i.push(e)},i.prototype.removeEventListener=function(t,e){if(this._listeners&&t in this._listeners){var i=this._listeners[t],o=n.arrIndexOf(i,e);-1===o||(i.length>1?this._listeners[t]=i.slice(0,o).concat(i.slice(o+1)):delete this._listeners[t])}},i.prototype.dispatchEvent=function(t){var e=t.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+e]&&this["on"+e].apply(this,n),this._listeners&&e in this._listeners)for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].apply(this,n)};var o=function(t,e){if(this.type=t,void 0!==e)for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n])};o.prototype.toString=function(){var t=[];for(var e in this)if(this.hasOwnProperty(e)){var n=this[e];"function"==typeof n&&(n="[function]"),t.push(e+"="+n)}return"SimpleEvent("+t.join(", ")+")"};var r=function(t){this.events=t||[]};r.prototype.emit=function(t){var e=Array.prototype.slice.call(arguments,1);!this.nuked&&this["on"+t]&&this["on"+t].apply(this,e),-1===n.arrIndexOf(this.events,t)&&n.log("Event "+JSON.stringify(t)+" not listed "+JSON.stringify(this.events)+" in "+this)},r.prototype.nuke=function(t){this.nuked=!0;for(var e=0;e<this.events.length;e++)delete this[this.events[e]]};n.random_string=function(t,e){e=e||"abcdefghijklmnopqrstuvwxyz0123456789_".length;var n,i=[];for(n=0;n<t;n++)i.push("abcdefghijklmnopqrstuvwxyz0123456789_".substr(Math.floor(Math.random()*e),1));return i.join("")},n.random_number=function(t){return Math.floor(Math.random()*t)},n.random_number_string=function(t){var e=(""+(t-1)).length;return(Array(e+1).join("0")+n.random_number(t)).slice(-e)},n.getOrigin=function(t){return(t+="/").split("/").slice(0,3).join("/")},n.isSameOriginUrl=function(t,n){return n||(n=e.location.href),t.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.getParentDomain=function(t){return/^[0-9.]*$/.test(t)?t:/^\[/.test(t)?t:/[.]/.test(t)?t.split(".").slice(1).join("."):t},n.objectExtend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};n.polluteGlobalNamespace=function(){"_jp"in e||(e._jp={})},n.closeFrame=function(t,e){return"c"+JSON.stringify([t,e])},n.userSetCode=function(t){return 1e3===t||t>=3e3&&t<=4999},n.countRTO=function(t){return t>100?3*t:t+200},n.log=function(){e.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}},n.flatUrl=function(t){return-1===t.indexOf("?")&&-1===t.indexOf("#")},n.amendUrl=function(e){var i=t.location;if(!e)throw new Error("Wrong url for SockJS");if(!n.flatUrl(e))throw new Error("Only basic urls are supported in SockJS");return 0===e.indexOf("//")&&(e=i.protocol+e),0===e.indexOf("/")&&(e=i.protocol+"//"+i.host+e),e=e.replace(/[/]+$/,"")},n.arrIndexOf=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},n.arrSkip=function(t,e){var i=n.arrIndexOf(t,e);return-1===i?t.slice():t.slice(0,i).concat(t.slice(i+1))},n.isArray=Array.isArray||function(t){return{}.toString.call(t).indexOf("Array")>=0},n.delay=function(t,e){return"function"==typeof t&&(e=t,t=0),setTimeout(e,t)};var s,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u={"\0":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","\t":"\\t","\n":"\\n","\v":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","":"\\u00ad","":"\\u0600","":"\\u0601","":"\\u0602","":"\\u0603","":"\\u0604","":"\\u070f","":"\\u17b4","":"\\u17b5","":"\\u200c","":"\\u200d","":"\\u200e","":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","":"\\u202a","":"\\u202b","":"\\u202c","":"\\u202d","":"\\u202e","":"\\u202f","":"\\u2060","":"\\u2061","":"\\u2062","":"\\u2063","":"\\u2064","":"\\u2065","":"\\u2066","":"\\u2067","":"\\u2068","":"\\u2069","":"\\u206a","":"\\u206b","":"\\u206c","":"\\u206d","":"\\u206e","":"\\u206f","\ufeff":"\\ufeff","":"\\ufff0","":"\\ufff1","":"\\ufff2","":"\\ufff3","":"\\ufff4","":"\\ufff5","":"\\ufff6","":"\\ufff7","":"\\ufff8","":"\\ufff9","":"\\ufffa","":"\\ufffb","":"\\ufffc","":"\\ufffd","":"\\ufffe","":"\\uffff"},c=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,l=JSON&&JSON.stringify||function(t){return a.lastIndex=0,a.test(t)&&(t=t.replace(a,function(t){return u[t]})),'"'+t+'"'};n.quote=function(t){var e=l(t);return c.lastIndex=0,c.test(e)?(s||(s=function(t){var e,n={},i=[];for(e=0;e<65536;e++)i.push(String.fromCharCode(e));return t.lastIndex=0,i.join("").replace(t,function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,n}(c)),e.replace(c,function(t){return s[t]})):e};var f=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var t={},e=0;e<f.length;e++){var n=f[e];t[n]=m[n]&&m[n].enabled()}return t},n.detectProtocols=function(t,e,n){var i={},o=[];e||(e=f);for(var r=0;r<e.length;r++){var s=e[r];i[s]=t[s]}var a=function(t){var e=t.shift();i[e]?o.push(e):t.length>0&&a(t)};return!1!==n.websocket&&a(["websocket"]),i["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!i["xdr-streaming"]||n.cookie_needed||n.null_origin?a(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),i["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!i["xdr-polling"]||n.cookie_needed||n.null_origin?a(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var d="_sockjs_global";n.createHook=function(){var t="a"+n.random_string(8);if(!(d in e)){var i={};e[d]=function(t){return t in i||(i[t]={id:t,del:function(){delete i[t]}}),i[t]}}return e[d](t)},n.attachMessage=function(t){n.attachEvent("message",t)},n.attachEvent=function(n,i){void 0!==e.addEventListener?e.addEventListener(n,i,!1):(t.attachEvent("on"+n,i),e.attachEvent("on"+n,i))},n.detachMessage=function(t){n.detachEvent("message",t)},n.detachEvent=function(n,i){void 0!==e.addEventListener?e.removeEventListener(n,i,!1):(t.detachEvent("on"+n,i),e.detachEvent("on"+n,i))};var h={},p=!1,y=function(){for(var t in h)h[t](),delete h[t]};n.attachEvent("unload",function(){p||(p=!0,y())}),n.unload_add=function(t){var e=n.random_string(8);return h[e]=t,p&&n.delay(y),e},n.unload_del=function(t){t in h&&delete h[t]},n.createIframe=function(e,i){var o,r,s=t.createElement("iframe"),a=function(){clearTimeout(o);try{s.onload=null}catch(t){}s.onerror=null},u=function(){s&&(a(),setTimeout(function(){s&&s.parentNode.removeChild(s),s=null},0),n.unload_del(r))},c=function(t){s&&(u(),i(t))};return s.src=e,s.style.display="none",s.style.position="absolute",s.onerror=function(){c("onerror")},s.onload=function(){clearTimeout(o),o=setTimeout(function(){c("onload timeout")},2e3)},t.body.appendChild(s),o=setTimeout(function(){c("timeout")},15e3),r=n.unload_add(u),{post:function(t,e){try{s&&s.contentWindow&&s.contentWindow.postMessage(t,e)}catch(t){}},cleanup:u,loaded:a}},n.createHtmlfile=function(t,i){var o,r,s,a=new ActiveXObject("htmlfile"),u=function(){clearTimeout(o)},c=function(){a&&(u(),n.unload_del(r),s.parentNode.removeChild(s),s=a=null,CollectGarbage())};a.open(),a.write('<html><script>document.domain="'+document.domain+'";<\/script></html>'),a.close(),a.parentWindow._jp=e._jp;var l=a.createElement("div");return a.body.appendChild(l),s=a.createElement("iframe"),l.appendChild(s),s.src=t,o=setTimeout(function(){var t;t="timeout",a&&(c(),i(t))},15e3),r=n.unload_add(c),{post:function(t,e){try{s&&s.contentWindow&&s.contentWindow.postMessage(t,e)}catch(t){}},cleanup:c,loaded:u}};var b=function(){};(b.prototype=new r(["chunk","finish"]))._start=function(t,i,o,r){var s=this;try{s.xhr=new XMLHttpRequest}catch(t){}if(!s.xhr)try{s.xhr=new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}(e.ActiveXObject||e.XDomainRequest)&&(i+=(-1===i.indexOf("?")?"?":"&")+"t="+ +new Date),s.unload_ref=n.unload_add(function(){s._cleanup(!0)});try{s.xhr.open(t,i,!0)}catch(t){return s.emit("finish",0,""),void s._cleanup()}if(r&&r.no_credentials||(s.xhr.withCredentials="true"),r&&r.headers)for(var a in r.headers)s.xhr.setRequestHeader(a,r.headers[a]);s.xhr.onreadystatechange=function(){if(s.xhr){var t=s.xhr;switch(t.readyState){case 3:try{var e=t.status,n=t.responseText}catch(t){}n&&n.length>0&&s.emit("chunk",e,n);break;case 4:s.emit("finish",t.status,t.responseText),s._cleanup(!1)}}},s.xhr.send(o)},b.prototype._cleanup=function(t){if(this.xhr){if(n.unload_del(this.unload_ref),this.xhr.onreadystatechange=function(){},t)try{this.xhr.abort()}catch(t){}this.unload_ref=this.xhr=null}},b.prototype.close=function(){this.nuke(),this._cleanup(!0)},(n.XHRCorsObject=function(){var t=this,e=arguments;n.delay(function(){t._start.apply(t,e)})}).prototype=new b,(n.XHRLocalObject=function(t,e,i){var o=this;n.delay(function(){o._start(t,e,i,{no_credentials:!0})})}).prototype=new b;var v=n.XDRObject=function(t,e,i){var o=this;n.delay(function(){o._start(t,e,i)})};v.prototype=new r(["chunk","finish"]),v.prototype._start=function(t,e,i){var o=this,r=new XDomainRequest;e+=(-1===e.indexOf("?")?"?":"&")+"t="+ +new Date;var s=r.ontimeout=r.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};r.onprogress=function(){o.emit("chunk",200,r.responseText)},r.onload=function(){o.emit("finish",200,r.responseText),o._cleanup(!1)},o.xdr=r,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(t,e),o.xdr.send(i)}catch(t){s()}},v.prototype._cleanup=function(t){if(this.xdr){if(n.unload_del(this.unload_ref),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(t){}this.unload_ref=this.xdr=null}},v.prototype.close=function(){this.nuke(),this._cleanup(!0)},n.isXHRCorsCapable=function(){return e.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:e.XDomainRequest&&t.domain?2:N.enabled()?3:4};var m=function(t,e,i){var o,r=this;r._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},i&&n.objectExtend(r._options,i),r._base_url=n.amendUrl(t),r._server=r._options.server||n.random_number_string(1e3),r._options.protocols_whitelist&&r._options.protocols_whitelist.length?o=r._options.protocols_whitelist:(o="string"==typeof e&&e.length>0?[e]:n.isArray(e)?e:null)&&r._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.'),r._protocols=[],r.protocol=null,r.readyState=m.CONNECTING,r._ir=L(r._base_url),r._ir.onfinish=function(t,e){r._ir=null,t?(r._options.info&&(t=n.objectExtend(t,r._options.info)),r._options.rtt&&(e=r._options.rtt),r._applyInfo(t,e,o),r._didClose()):r._didClose(1002,"Can't connect to server",!0)}};m.prototype=new i,m.version="0.3.1",m.CONNECTING=0,m.OPEN=1,m.CLOSING=2,m.CLOSED=3,m.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},m.prototype._dispatchOpen=function(){this.readyState===m.CONNECTING?(this._transport_tref&&(clearTimeout(this._transport_tref),this._transport_tref=null),this.readyState=m.OPEN,this.dispatchEvent(new o("open"))):this._didClose(1006,"Server lost session")},m.prototype._dispatchMessage=function(t){if(this.readyState===m.OPEN)switch((t=JSON.parse(t)).op){case"ortc-validated":this.dispatchEvent(new o("ortcvalidated",{data:t.up,set:t.set}));break;case"ortc-subscribed":this.dispatchEvent(new o("ortcsubscribed",{data:t.ch}));break;case"ortc-unsubscribed":this.dispatchEvent(new o("ortcunsubscribed",{data:t.ch}));break;case"ortc-error":this.dispatchEvent(new o("ortcerror",{data:t.ex}));break;case"ortc-ack":this.dispatchEvent(new o("ortcack",{msgId:t.m,msgPart:t.p,curSeq:t.seq,err:t.err}));break;default:this.dispatchEvent(new o("message",{data:t}))}},m.prototype._dispatchHeartbeat=function(t){this.readyState===m.OPEN&&this.dispatchEvent(new o("heartbeat",{}))},m.prototype._didClose=function(t,e,i){var r=this;if(r.readyState!==m.CONNECTING&&r.readyState!==m.OPEN&&r.readyState!==m.CLOSING)throw new Error("INVALID_STATE_ERR");r._ir&&(r._ir.nuke(),r._ir=null),r._transport&&(r._transport.doCleanup(),r._transport=null);var s=new o("close",{code:t,reason:e,wasClean:n.userSetCode(t)});if(!n.userSetCode(t)&&r.readyState===m.CONNECTING&&!i){if(r._try_next_protocol(s))return;s=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:s})}r.readyState=m.CLOSED,n.delay(function(){r.dispatchEvent(s)})},m.prototype._didMessage=function(t){switch(t.slice(0,1)){case"o":this._dispatchOpen();break;case"a":for(var e=JSON.parse(t.slice(1)||"[]"),n=0;n<e.length;n++)this._dispatchMessage(e[n]);break;case"m":e=JSON.parse(t.slice(1)||"null");this._dispatchMessage(e);break;case"c":e=JSON.parse(t.slice(1)||"[]");this._didClose(e[0],e[1]);break;case"h":this._dispatchHeartbeat()}},m.prototype._try_next_protocol=function(e){var i=this;for(i.protocol&&(i._debug("Closed transport:",i.protocol,""+e),i.protocol=null),i._transport_tref&&(clearTimeout(i._transport_tref),i._transport_tref=null);;){var o=i.protocol=i._protocols.shift();if(!o)return!1;if(m[o]&&!0===m[o].need_body&&(!t.body||void 0!==t.readyState&&"complete"!==t.readyState))return i._protocols.unshift(o),i.protocol="waiting-for-load",n.attachEvent("load",function(){i._try_next_protocol()}),!0;if(m[o]&&m[o].enabled(i._options)){var r=m[o].roundTrips||1,s=(i._options.rto||0)*r||5e3;i._transport_tref=n.delay(s,function(){i.readyState===m.CONNECTING&&i._didClose(2007,"Transport timeouted")});var a=n.random_string(8),u=i._base_url+"/"+i._server+"/"+a;return i._debug("Opening transport:",o," url:"+u," RTO:"+i._options.rto),i._transport=new m[o](i,u,i._base_url),!0}i._debug("Skipping transport:",o)}},m.prototype.close=function(t,e){if(t&&!n.userSetCode(t))throw new Error("INVALID_ACCESS_ERR");return(this.readyState===m.CONNECTING||this.readyState===m.OPEN)&&(this.readyState=m.CLOSING,this._didClose(t||1e3,e||"Normal closure"),!0)},m.prototype.send=function(t){if(this.readyState===m.CONNECTING)throw new Error("INVALID_STATE_ERR");return this.readyState===m.OPEN&&this._transport.doSend(n.quote(""+t)),!0},m.prototype._applyInfo=function(e,i,o){this._options.info=e,this._options.rtt=i,this._options.rto=n.countRTO(i),this._options.info.null_origin=!t.domain;var r=n.probeProtocols();this._protocols=n.detectProtocols(r,o,e)};var g=m.websocket=function(t,i){var o=this,r=i+"/websocket";r="https"===r.slice(0,5)?"wss"+r.slice(5):"ws"+r.slice(4),o.ri=t,o.url=r;var s=e.WebSocket||e.MozWebSocket;o.ws=new s(o.url),o.ws.onmessage=function(t){o.ri._didMessage(t.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};g.prototype.doSend=function(t){this.ws.send("["+t+"]")},g.prototype.doCleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(this.unload_ref),this.unload_ref=this.ri=this.ws=null)},g.enabled=function(){return!(!e.WebSocket&&!e.MozWebSocket)},g.roundTrips=2;var _=function(){};_.prototype.send_constructor=function(t){this.send_buffer=[],this.sender=t},_.prototype.doSend=function(t){this.send_buffer.push(t),this.send_stop||this.send_schedule()},_.prototype.send_schedule_wait=function(){var t,e=this;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},_.prototype.send_schedule=function(){var t=this;if(t.send_buffer.length>0){var e="["+t.send_buffer.join(",")+"]";t.send_stop=t.sender(t.trans_url,e,function(){t.send_stop=null,t.send_schedule_wait()}),t.send_buffer=[]}},_.prototype.send_destructor=function(){this._send_stop&&this._send_stop(),this._send_stop=null};var w=function(e,i,o){if(!("_send_form"in this)){var r=this._send_form=t.createElement("form");(a=this._send_area=t.createElement("textarea")).name="d",r.style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",r.appendChild(a),t.body.appendChild(r)}r=this._send_form;var s,a=this._send_area,u="a"+n.random_string(8);r.target=u,r.action=e+"/jsonp_send?i="+u;try{s=t.createElement('<iframe name="'+u+'">')}catch(e){(s=t.createElement("iframe")).name=u}s.id=u,r.appendChild(s),s.style.display="none";try{a.value=i}catch(t){n.log("Your browser is seriously broken. Go home! "+t.message)}r.submit();var c=function(t){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,n.delay(500,function(){s.parentNode.removeChild(s),s=null}),a.value="",o())};return s.onerror=s.onload=c,s.onreadystatechange=function(t){"complete"==s.readyState&&c()},c},k=function(e,i){var o,r,s=t.createElement("script"),a=function(t){r&&(r.parentNode.removeChild(r),r=null),s&&(clearTimeout(o),s.parentNode.removeChild(s),s.onreadystatechange=s.onerror=s.onload=s.onclick=null,s=null,i(t),i=null)},u=!1,c=null;if(s.id="a"+n.random_string(8),s.src=e,s.type="text/javascript",s.charset="UTF-8",s.onerror=function(t){c||(c=setTimeout(function(){u||a(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},s.onload=function(t){a(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},s.onreadystatechange=function(t){if(/loaded|closed/.test(s.readyState)){if(s&&s.htmlFor&&s.onclick){u=!0;try{s.onclick()}catch(t){}}s&&a(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},void 0===s.async&&t.attachEvent)if(/opera/i.test(navigator.userAgent))(r=t.createElement("script")).text="try{var a = document.getElementById('"+s.id+"'); if(a)a.onerror();}catch(x){};",s.async=r.async=!1;else{try{s.htmlFor=s.id,s.event="onclick"}catch(t){}s.async=!0}void 0!==s.async&&(s.async=!0),o=setTimeout(function(){a(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var l=t.getElementsByTagName("head")[0];return l.insertBefore(s,l.firstChild),r&&l.insertBefore(r,l.firstChild),a},C=m["jsonp-polling"]=function(t,e){n.polluteGlobalNamespace();this.ri=t,this.trans_url=e,this.send_constructor(w),this._schedule_recv()};C.prototype=new _,C.prototype._schedule_recv=function(){var t=this;t._recv_stop=S(t.trans_url+"/jsonp",k,function(e){t._recv_stop=null,e&&(t._is_closing||t.ri._didMessage(e)),t._is_closing||t._schedule_recv()})},C.enabled=function(){return!0},C.need_body=!0,C.prototype.doCleanup=function(){this._is_closing=!0,this._recv_stop&&this._recv_stop(),this.ri=this._recv_stop=null,this.send_destructor()};var S=function(t,i,o){var r="a"+n.random_string(6),s=i(t+"?c="+escape("_jp."+r),function(t){delete e._jp[r],o(t)});e._jp[r]=s;return function(){e._jp[r]&&e._jp[r](n.closeFrame(1e3,"JSONP user aborted read"))}},O=function(){};(O.prototype=new _).run=function(t,e,n,i,o){this.ri=t,this.trans_url=e,this.send_constructor(function(t){return function(e,n,i){return new t("POST",e+"/xhr_send",n).onfinish=function(t,e){i(t)},function(t){i(0,t)}}}(o)),this.poll=new X(t,i,e+n,o)},O.prototype.doCleanup=function(){this.poll&&(this.poll.abort(),this.poll=null)};var E=m["xhr-streaming"]=function(t,e){this.run(t,e,"/xhr_streaming",B,n.XHRCorsObject)};E.prototype=new O,E.enabled=function(){return e.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},E.roundTrips=2,E.need_body=!0;var x=m["xdr-streaming"]=function(t,e){this.run(t,e,"/xhr_streaming",B,n.XDRObject)};x.prototype=new O,x.enabled=function(){return!!e.XDomainRequest},x.roundTrips=2;var T=m["xhr-polling"]=function(t,e){this.run(t,e,"/xhr",B,n.XHRCorsObject)};T.prototype=new O,T.enabled=E.enabled,T.roundTrips=2;var M=m["xdr-polling"]=function(t,e){this.run(t,e,"/xhr",B,n.XDRObject)};M.prototype=new O,M.enabled=x.enabled,M.roundTrips=2;var j,N=function(){};N.prototype.i_constructor=function(t,e,i){var o=this;o.ri=t,o.origin=n.getOrigin(i),o.base_url=i,o.trans_url=e;var r=i+"/iframe.html";o.ri._options.devel&&(r+="?t="+ +new Date),o.window_id=n.random_string(8),r+="#"+o.window_id,o.iframeObj=n.createIframe(r,function(t){o.ri._didClose(1006,"Unable to load an iframe ("+t+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},N.prototype.doCleanup=function(){if(this.iframeObj){n.detachMessage(this.onmessage_cb);try{this.iframeObj.iframe.contentWindow&&this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessage_cb=this.iframeObj=null}},N.prototype.onmessage=function(t){if(t.origin===this.origin){var e=t.data.slice(0,8),n=t.data.slice(8,9),i=t.data.slice(9);if(e===this.window_id)switch(n){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([m.version,this.protocol,this.trans_url,this.base_url]));break;case"t":this.ri._didMessage(i)}}},N.prototype.postMessage=function(t,e){this.iframeObj.post(this.window_id+t+(e||""),this.origin)},N.prototype.doSend=function(t){this.postMessage("m",t)},N.enabled=function(){var t=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof e.postMessage||"object"==typeof e.postMessage)&&!t};var P=function(t,i){parent!==e?parent.postMessage(j+t+(i||""),"*"):n.log("Can't postMessage, no parent window.",t,i)},A=function(){};A.prototype._didClose=function(t,e){P("t",n.closeFrame(t,e))},A.prototype._didMessage=function(t){P("t",t)},A.prototype._doSend=function(t){this._transport.doSend(t)},A.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,m.bootstrap_iframe=function(){var i;j=t.location.hash.slice(1);n.attachMessage(function(t){if(t.source===parent&&(void 0===n.parent_origin&&(n.parent_origin=t.origin),t.origin===n.parent_origin)){var o=t.data.slice(0,8),r=t.data.slice(8,9),s=t.data.slice(9);if(o===j)switch(r){case"s":var a=JSON.parse(s),u=a[0],c=a[1],l=a[2],f=a[3];if(u!==m.version&&n.log('Incompatibile SockJS! Main site uses: "'+u+'", the iframe: "'+m.version+'".'),!n.flatUrl(l)||!n.flatUrl(f))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(l)||!n.isSameOriginUrl(f))return void n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([e.location.href,l,f])+")");(i=new A)._transport=new A[c](i,l,f);break;case"m":i._doSend(s);break;case"c":i&&i._doCleanup(),i=null}}}),P("s")};var R=function(t,e){var i=this;n.delay(function(){i.doXhr(t,e)})};(R.prototype=new r(["finish"])).doXhr=function(t,e){var n={websocket:!0,origins:["*:*"],cookie_needed:!1,entropy:+new Date};this.emit("finish",n,5e3)};var I=function(e){var i=this,o=function(){var t=new N;t.protocol="w-iframe-info-receiver";var n=function(e){if("string"==typeof e&&"m"===e.substr(0,1)){var n=JSON.parse(e.substr(1)),o=n[0],r=n[1];i.emit("finish",o,r)}else i.emit("finish");t.doCleanup(),t=null},o={_options:{},_didClose:n,_didMessage:n};t.i_constructor(o,e,e)};t.body?o():n.attachEvent("load",o)};I.prototype=new r(["finish"]);var D=function(){var t=this;n.delay(function(){t.emit("finish",{},5e3)})};D.prototype=new r(["finish"]);var L=function(t){if(n.isSameOriginUrl(t))return new R(t,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new R(t,n.XHRCorsObject);case 2:return new R(t,n.XDRObject);case 3:return new I(t);default:return new D}};(A["w-iframe-info-receiver"]=function(t,e,i){new R(i,n.XHRLocalObject).onfinish=function(e,n){t._didMessage("m"+JSON.stringify([e,n])),t._didClose()}}).prototype.doCleanup=function(){};var H=m["iframe-eventsource"]=function(){this.protocol="w-iframe-eventsource",this.i_constructor.apply(this,arguments)};H.prototype=new N,H.enabled=function(){return"EventSource"in e&&N.enabled()},H.need_body=!0,H.roundTrips=3,(A["w-iframe-eventsource"]=function(t,e){this.run(t,e,"/eventsource",J,n.XHRLocalObject)}).prototype=new O;var q=m["iframe-xhr-polling"]=function(){this.protocol="w-iframe-xhr-polling",this.i_constructor.apply(this,arguments)};q.prototype=new N,q.enabled=function(){return e.XMLHttpRequest&&N.enabled()},q.need_body=!0,q.roundTrips=3,(A["w-iframe-xhr-polling"]=function(t,e){this.run(t,e,"/xhr",B,n.XHRLocalObject)}).prototype=new O;var U=m["iframe-htmlfile"]=function(){this.protocol="w-iframe-htmlfile",this.i_constructor.apply(this,arguments)};U.prototype=new N,U.enabled=function(){return N.enabled()},U.need_body=!0,U.roundTrips=3,(A["w-iframe-htmlfile"]=function(t,e){this.run(t,e,"/htmlfile",z,n.XHRLocalObject)}).prototype=new O;var X=function(t,e,n,i){this.ri=t,this.Receiver=e,this.recv_url=n,this.AjaxObject=i,this._scheduleRecv()};X.prototype._scheduleRecv=function(){var t=this,e=t.poll=new t.Receiver(t.recv_url,t.AjaxObject);e.onmessage=function(e){1,t.ri._didMessage(e.data)},e.onclose=function(n){t.poll=e=e.onmessage=e.onclose=null,t.poll_is_closing||("permanent"===n.reason?t.ri._didClose(1006,"Polling error ("+n.reason+")"):t._scheduleRecv())}},X.prototype.abort=function(){this.poll_is_closing=!0,this.poll&&this.poll.abort()};var F,J=function(t){var e=this,i=new EventSource(t);i.onmessage=function(t){e.dispatchEvent(new o("message",{data:unescape(t.data)}))},e.es_close=i.onerror=function(t,r){var s=r?"user":2!==i.readyState?"network":"permanent";e.es_close=i.onmessage=i.onerror=null,i.close(),i=null,n.delay(200,function(){e.dispatchEvent(new o("close",{reason:s}))})}};J.prototype=new i,J.prototype.abort=function(){this.es_close&&this.es_close({},!0)};var z=function(t){var i=this;n.polluteGlobalNamespace(),i.id="a"+n.random_string(6,26),t+=(-1===t.indexOf("?")?"?":"&")+"c="+escape("_jp."+i.id);var r,s=function(){if(void 0===F)if("ActiveXObject"in e)try{F=!!new ActiveXObject("htmlfile")}catch(t){}else F=!1;return F}()?n.createHtmlfile:n.createIframe;e._jp[i.id]={start:function(){r.loaded()},message:function(t){i.dispatchEvent(new o("message",{data:t}))},stop:function(){i.iframe_close({},"network")}},i.iframe_close=function(t,n){r.cleanup(),i.iframe_close=r=null,delete e._jp[i.id],i.dispatchEvent(new o("close",{reason:n}))},r=s(t,function(t){i.iframe_close({},"permanent")})};z.prototype=new i,z.prototype.abort=function(){this.iframe_close&&this.iframe_close({},"user")};var B=function(t,e){var n=this,i=0;n.xo=new e("POST",t,null),n.xo.onchunk=function(t,e){if(200===t)for(;;){var r=e.slice(i),s=r.indexOf("\n");if(-1===s)break;i+=s+1;var a=r.slice(0,s);n.dispatchEvent(new o("message",{data:a}))}},n.xo.onfinish=function(t,e){n.xo.onchunk(t,e),n.xo=null;var i=200===t?"network":"permanent";n.dispatchEvent(new o("close",{reason:i}))}};return B.prototype=new i,B.prototype.abort=function(){this.xo&&(this.xo.close(),this.dispatchEvent(new o("close",{reason:"user"})),this.xo=null)},m.getUtils=function(){return n},m.getIframeTransport=function(){return N},m}();function r(t){return!!/^\s*(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?\s*$/.exec(t)}function s(t){return!!/^[\w-:\/\.]*$/.exec(t)}function a(t){return"function"==typeof t}function u(t){return"string"==typeof t}String.prototype.ortcTreatUrl=function(){var t=this;return t&&"/"==(t=t.replace(/\s+/g,"")).charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t};t.exports={IbtRealTimeSJType:"IbtRealTimeSJ",loadOrtcFactory:function(t,e){e(new function(t){this.createClient=function(){return new n}}(t),null)},createClient:function(){return new n}}}])},t.exports=o()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(22)).createClient();i.setClusterUrl("https://ortc-europe.realtime.co/server/ssl/2.1");var o=void 0,r=void 0,s=[];e.default={init:function(t,e){return new Promise(function(n){o=t,r=e,i.onConnected=function(){i.subscribe(o,!0,function(t,e,n){var i=JSON.parse(n);i.senderId!==r&&s.forEach(function(t){return t(i.message)})}),n(!0)},i.connect("eHxPS8","anonymousToken")})},addOnMessageListener:function(t){return s=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(s),[t]),function(){s=s.filter(function(e){return e!==t})}},send:function(t){if(i.getIsConnected()){var e={senderId:r,message:t};i.send(o,JSON.stringify(e))}}}},function(t,e){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,o=n;return o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e,n){var i,o,r=n(25),s=n(24),a=0,u=0;t.exports=function(t,e,n){var c=e&&n||0,l=e||[],f=(t=t||{}).node||i,d=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==d){var h=r();null==f&&(f=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=o=16383&(h[6]<<8|h[7]))}var p=void 0!==t.msecs?t.msecs:(new Date).getTime(),y=void 0!==t.nsecs?t.nsecs:u+1,b=p-a+(y-u)/1e4;if(b<0&&void 0===t.clockseq&&(d=d+1&16383),(b<0||p>a)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,u=y,o=d;var v=(1e4*(268435455&(p+=122192928e5))+y)%4294967296;l[c++]=v>>>24&255,l[c++]=v>>>16&255,l[c++]=v>>>8&255,l[c++]=255&v;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var g=0;g<6;++g)l[c+g]=f[g];return e||s(l)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.htmlToElement=function(t){var e=document.createElement("template");return e.innerHTML=t,e.content.firstChild},e.updateProps=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;Array.from(t.querySelectorAll("[data-prop]")).forEach(function(t){var n=t.getAttribute("data-prop").split(":"),o=i(n,2),r=o[0],s=o[1];t[r]=e[s]})},e.bindEvents=function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];i.forEach(function(n){var i="data-bind-"+n;Array.from(t.querySelectorAll("["+i+"]")).forEach(function(t){var o=e[t.getAttribute(i)].bind(e);t.addEventListener(n,o)})})},e.createChildListObserver=function(t,e){var n=new window.MutationObserver(function(t){var n=t.find(function(t){return"childList"===t.type});n&&e(n)});return n.observe(t,{childList:!0}),n.disconnect}},function(t,e){t.exports='<div class="form-row layout2 padding-bottom-1">\n    <div class="layout2__col">\n        <input class="input-text1" role="chart-label-input" placeholder="Insert Label" value="Label" type="text" data-bind-input="onDataChange"/>\n    </div>\n    <div class="layout2__col">\n        <div class="layout2">\n            <div class="layout2__col">\n                <input class="input-slider1 padding-left-1" data-series="first" role="chart-value-input" type="range" min="0" max="100" value="20" step="20" data-bind-input="onDataChange"/>\n            </div>\n            <div class="layout2__col">\n                <input class="input-slider1 padding-left-1" data-series="second" role="chart-value-input" type="range" min="0" max="100" value="20" step="20" data-bind-input="onDataChange"/>\n            </div>\n        </div>\n    </div>\n</div>'},function(t,e){t.exports='<div>\n    <div class="vertical-container">\n    </div>\n    <div class="padding-top-1">\n        <button class="button1" role="add-row" data-prop="disabled:addButtonDisabled" data-bind-click="onAddClick">\n            + add\n        </button>\n        <button class="button1" role="remove-row"  data-prop="disabled:removeButtonDisabled" data-bind-click="onRemoveClick">\n            - remove\n        </button>\n    </div>\n</div>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=a(n(29)),r=a(n(28)),s=n(27);function a(t){return t&&t.__esModule?t:{default:t}}function u(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(u.prototype,HTMLElement.prototype),Object.setPrototypeOf(u,HTMLElement);var c=5,l=function(t){return Array.from(t.querySelectorAll(".form-row")).map(function(t){return{label:t.querySelector('input[role="chart-label-input"]').value,values:Array.from(t.querySelectorAll('input[role="chart-value-input"]')).reduce(function(t,e){return t[e.getAttribute("data-series")]=parseInt(e.value,10),t},{})}})},f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.formContainer=void 0,t.numberOfRows=c,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u),i(e,[{key:"onDataChange",value:function(){var t=l(this),e=new window.CustomEvent("data-change",{detail:t});this.dispatchEvent(e)}},{key:"addRow",value:function(t){var e=(0,s.htmlToElement)(r.default);return e.querySelector("input").value="Value "+t,this.formContainer.appendChild(e),e}},{key:"onAddClick",value:function(){if(this.numberOfRows<8){var t=this.addRow(this.numberOfRows+1);(0,s.bindEvents)(t,this,"input"),this.onDataChange()}}},{key:"onRowListChange",value:function(t){this.numberOfRows=t.target.childNodes.length-1,(0,s.updateProps)(this)}},{key:"onRemoveClick",value:function(){if(this.numberOfRows>3){var t=this.querySelector(".vertical-container");t.removeChild(t.lastChild),this.onDataChange()}}},{key:"render",value:function(){var t=(0,s.htmlToElement)(o.default);this.formContainer=t.querySelector(".vertical-container");for(var e=0;e<c;e++)this.addRow(e+1);this.appendChild(t),(0,s.bindEvents)(t,this,"click","input"),(0,s.updateProps)(this)}},{key:"connectedCallback",value:function(){var t=this;this.render(this),this.data=l(this),this.unsubscribe=(0,s.createChildListObserver)(this.formContainer,function(e){return t.onRowListChange(e)})}},{key:"disconnectedCallback",value:function(){this.unsubscribe()}},{key:"addButtonDisabled",get:function(){return this.numberOfRows>=8}},{key:"removeButtonDisabled",get:function(){return this.numberOfRows<=3}},{key:"data",get:function(){return this.hasAttribute("data")?JSON.parse(this.getAttribute("data")):[]},set:function(t){this.setAttribute("data",JSON.stringify(t))}}]),e}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),o=n(4);e.default=function(t){var e=t.values,n=t.radius,r=void 0===n?1:n,s=t.xOffset,a=void 0===s?0:s,u=t.yOffset,c=void 0===u?0:u,l=e.length,f=(0,i.getAngleIncrement)(l),d=i.STARTING_ANGLES_IN_GRAD[l]||0;return(0,o.newIndexedArray)(l).map((0,i.unitaryCirclePoints)(f)).map((0,i.rotatePoint)(d)).map(function(t,n){var o=r*e[n]/100;return(0,i.scalePoint)(o)(t)}).map((0,i.translatePoint)(a,c)).map(i.floor)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(31),r=(i=o)&&i.__esModule?i:{default:i},s=n(3);e.default=function(t){var e=t.data,n=t.radius,i=t.colors;return function(t){return Object.keys(t[0].values)}(e).map(function(t){return function(t,e){return t.map(function(t){return t.values[e]})}(e,t)}).map(function(t,e){return function(t){var e=t.values,n=t.radius,i=t.color,o=(0,r.default)({values:e,radius:n});return(0,s.createPath)(o,{role:"chart-values",fill:i,stroke:i})}({values:t,radius:n,color:function(t,e){return t[e%t.length]}(i,e)})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(3),r=n(7),s=(i=r)&&i.__esModule?i:{default:i};e.default=function(t){var e=t.data,n=t.radius,i=e.map(function(t){return t.label});return(0,s.default)({sides:i.length,radius:1.2*n}).map(function(t,e){var n=t.x,r=t.y;return(0,o.createText)({text:i[e],x:n,y:r,attrs:{role:"chart-label"}})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(4),r=n(3),s=n(7),a=(i=s)&&i.__esModule?i:{default:i};e.default=function(t){var e=t.data,n=t.radius,i=t.levels,s=e.length;return(0,o.newIndexedArray)(i).map(function(t){return(t+1)*(n/i)}).map(function(t){var e=(0,a.default)({sides:s,radius:t});return(0,r.createPath)(e,{role:"chart-base"})})}},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,'svg {\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    min-width: 320px;\n    padding-bottom: 100%;\n    vertical-align: middle;\n    overflow: hidden;\n\n    font-family: Arial, Helvetica, sans-serif;\n}\n\npath[role="chart-base"] {\n    fill: transparent;\n    stroke: #000000;\n}\n\npath[role="chart-values"] {\n    fill-opacity: 0.2;\n    stroke-width: 10;\n    stroke-opacity: 1;\n    stroke-linejoin: round;\n}',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(35)),o=a(n(34)),r=a(n(33)),s=a(n(32));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var c='\n    <svg viewBox="0 0 1000 1000" version="1.1" xmlns="http://www.w3.org/2000/svg">\n        <style>\n            '+i.default.toString()+'\n        </style>\n        <g transform="translate(500,500)">\n        </g>\n    </svg>\n',l=["red","blue"];e.default=function(t,e,n){if(t.innerHTML=c,e&&0!==e.length){var i=(0,r.default)({data:e,radius:n}),a=(0,o.default)({data:e,radius:n,levels:5}),f=(0,s.default)({data:e,radius:n,colors:l}),d=[].concat(u(i),u(a),u(f)),h=document.querySelector("svg g");d.forEach(function(t){return h.appendChild(t)})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(36),s=(i=r)&&i.__esModule?i:{default:i};function a(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(a.prototype,HTMLElement.prototype),Object.setPrototypeOf(a,HTMLElement);var u=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.render=t.render.bind(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a),o(e,[{key:"render",value:function(){(0,s.default)(this,this.data,this.radius)}},{key:"connectedCallback",value:function(){this.render()}},{key:"attributeChangedCallback",value:function(){window.requestAnimationFrame(this.render)}},{key:"data",get:function(){return this.hasAttribute("data")?JSON.parse(this.getAttribute("data")):[]},set:function(t){this.setAttribute("data",JSON.stringify(t))}},{key:"radius",get:function(){return this.hasAttribute("radius")?parseInt(this.getAttribute("radius"),10):400},set:function(t){this.setAttribute("radius",t)}}],[{key:"observedAttributes",get:function(){return["data"]}}]),e}();e.default=u},function(t,e,n){"use strict";var i=r(n(37)),o=r(n(30));function r(t){return t&&t.__esModule?t:{default:t}}window.customElements.define("app-chart",i.default),window.customElements.define("app-form",o.default)},function(t,e){(function(){"use strict";var t=new function(){},e=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function n(t){var n=e.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!n&&t}function i(t){var e=t.isConnected;if(void 0!==e)return e;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function o(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function r(t,e,n){n=n||new Set;for(var i=t;i;){if(i.nodeType===Node.ELEMENT_NODE){var s=i;e(s);var a=s.localName;if("link"===a&&"import"===s.getAttribute("rel")){if((i=s.import)instanceof Node&&!n.has(i))for(n.add(i),i=i.firstChild;i;i=i.nextSibling)r(i,e,n);i=o(t,s);continue}if("template"===a){i=o(t,s);continue}if(s=s.__CE_shadowRoot)for(s=s.firstChild;s;s=s.nextSibling)r(s,e,n)}i=i.firstChild?i.firstChild:o(t,i)}}function s(t,e,n){t[e]=n}function a(){this.a=new Map,this.s=new Map,this.f=[],this.b=!1}function u(t,e){t.b=!0,t.f.push(e)}function c(t,e){t.b&&r(e,function(e){return l(t,e)})}function l(t,e){if(t.b&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.f.length;n++)t.f[n](e)}}function f(t,e){var n=[];for(r(e,function(t){return n.push(t)}),e=0;e<n.length;e++){var i=n[e];1===i.__CE_state?t.connectedCallback(i):p(t,i)}}function d(t,e){var n=[];for(r(e,function(t){return n.push(t)}),e=0;e<n.length;e++){var i=n[e];1===i.__CE_state&&t.disconnectedCallback(i)}}function h(t,e,n){var i=(n=n||{}).w||new Set,o=n.i||function(e){return p(t,e)},s=[];if(r(e,function(e){if("link"===e.localName&&"import"===e.getAttribute("rel")){var n=e.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_hasRegistry=!0),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:e.addEventListener("load",function(){var n=e.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var r=new Set(i);r.delete(n),h(t,n,{w:r,i:o})}})}else s.push(e)},i),t.b)for(e=0;e<s.length;e++)l(t,s[e]);for(e=0;e<s.length;e++)o(s[e])}function p(t,e){if(void 0===e.__CE_state){var n=e.ownerDocument;if((n.defaultView||n.__CE_isImportDocument&&n.__CE_hasRegistry)&&(n=t.a.get(e.localName))){n.constructionStack.push(e);var o=n.constructor;try{try{if(new o!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{n.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=n,n.attributeChangedCallback)for(n=n.observedAttributes,o=0;o<n.length;o++){var r=n[o],s=e.getAttribute(r);null!==s&&t.attributeChangedCallback(e,r,null,s,null)}i(e)&&t.connectedCallback(e)}}}function y(t,e){this.c=t,this.a=e,this.b=void 0,h(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function b(t){t.b&&t.b.disconnect()}function v(t){if(t.a)throw Error("Already resolved.");t.a=void 0,t.b&&t.b(void 0)}function m(t){this.j=!1,this.c=t,this.o=new Map,this.l=function(t){return t()},this.g=!1,this.m=[],this.u=new y(t,document)}a.prototype.connectedCallback=function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t)},a.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t)},a.prototype.attributeChangedCallback=function(t,e,n,i,o){var r=t.__CE_definition;r.attributeChangedCallback&&-1<r.observedAttributes.indexOf(e)&&r.attributeChangedCallback.call(t,e,n,i,o)},y.prototype.f=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||b(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,i=0;i<n.length;i++)h(this.c,n[i])},m.prototype.define=function(t,e){var i,o,r,s,a,u=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!n(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this.c.a.get(t))throw Error("A custom element with name '"+t+"' has already been defined.");if(this.j)throw Error("A custom element is already being defined.");this.j=!0;try{var c=function(t){var e=l[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},l=e.prototype;if(!(l instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");i=c("connectedCallback"),o=c("disconnectedCallback"),r=c("adoptedCallback"),s=c("attributeChangedCallback"),a=e.observedAttributes||[]}catch(t){return}finally{this.j=!1}e={localName:t,constructor:e,connectedCallback:i,disconnectedCallback:o,adoptedCallback:r,attributeChangedCallback:s,observedAttributes:a,constructionStack:[]},function(t,e,n){t.a.set(e,n),t.s.set(n.constructor,n)}(this.c,t,e),this.m.push(e),this.g||(this.g=!0,this.l(function(){return function(t){if(!1!==t.g){t.g=!1;for(var e=t.m,n=[],i=new Map,o=0;o<e.length;o++)i.set(e[o].localName,[]);for(h(t.c,document,{i:function(e){if(void 0===e.__CE_state){var o=e.localName,r=i.get(o);r?r.push(e):t.c.a.get(o)&&n.push(e)}}}),o=0;o<n.length;o++)p(t.c,n[o]);for(;0<e.length;){for(var r=e.shift(),o=r.localName,r=i.get(r.localName),s=0;s<r.length;s++)p(t.c,r[s]);(o=t.o.get(o))&&v(o)}}}(u)}))},m.prototype.i=function(t){h(this.c,t)},m.prototype.get=function(t){if(t=this.c.a.get(t))return t.constructor},m.prototype.whenDefined=function(t){if(!n(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.o.get(t);return e?e.f:(e=new function(){var t=this;this.b=this.a=void 0,this.f=new Promise(function(e){t.b=e,t.a&&e(t.a)})},this.o.set(t,e),this.c.a.get(t)&&!this.m.some(function(e){return e.localName===t})&&v(e),e.f)},m.prototype.v=function(t){b(this.u);var e=this.l;this.l=function(n){return t(function(){return e(n)})}},window.CustomElementRegistry=m,m.prototype.define=m.prototype.define,m.prototype.upgrade=m.prototype.i,m.prototype.get=m.prototype.get,m.prototype.whenDefined=m.prototype.whenDefined,m.prototype.polyfillWrapFlushCallback=m.prototype.v;var g=window.Document.prototype.createElement,_=window.Document.prototype.createElementNS,w=window.Document.prototype.importNode,k=window.Document.prototype.prepend,C=window.Document.prototype.append,S=window.DocumentFragment.prototype.prepend,O=window.DocumentFragment.prototype.append,E=window.Node.prototype.cloneNode,x=window.Node.prototype.appendChild,T=window.Node.prototype.insertBefore,M=window.Node.prototype.removeChild,j=window.Node.prototype.replaceChild,N=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),P=window.Element.prototype.attachShadow,A=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),R=window.Element.prototype.getAttribute,I=window.Element.prototype.setAttribute,D=window.Element.prototype.removeAttribute,L=window.Element.prototype.getAttributeNS,H=window.Element.prototype.setAttributeNS,q=window.Element.prototype.removeAttributeNS,U=window.Element.prototype.insertAdjacentElement,X=window.Element.prototype.insertAdjacentHTML,F=window.Element.prototype.prepend,J=window.Element.prototype.append,z=window.Element.prototype.before,B=window.Element.prototype.after,K=window.Element.prototype.replaceWith,W=window.Element.prototype.remove,G=window.HTMLElement,V=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),$=window.HTMLElement.prototype.insertAdjacentElement,Q=window.HTMLElement.prototype.insertAdjacentHTML;function Y(t,e,n){function o(e){return function(n){for(var o=[],r=0;r<arguments.length;++r)o[r-0]=arguments[r];r=[];for(var s=[],a=0;a<o.length;a++){var u=o[a];if(u instanceof Element&&i(u)&&s.push(u),u instanceof DocumentFragment)for(u=u.firstChild;u;u=u.nextSibling)r.push(u);else r.push(u)}for(e.apply(this,o),o=0;o<s.length;o++)d(t,s[o]);if(i(this))for(o=0;o<r.length;o++)(s=r[o])instanceof Element&&f(t,s)}}n.h&&(e.prepend=o(n.h)),n.append&&(e.append=o(n.append))}var Z,tt=window.customElements;if(!tt||tt.forcePolyfill||"function"!=typeof tt.define||"function"!=typeof tt.get){var et=new a;Z=et,window.HTMLElement=function(){function e(){var e=this.constructor;if(!(i=Z.s.get(e)))throw Error("The custom element being constructed was not registered with `customElements`.");var n=i.constructionStack;if(!n.length)return n=g.call(document,i.localName),Object.setPrototypeOf(n,e.prototype),n.__CE_state=1,n.__CE_definition=i,l(Z,n),n;var i,o=n[i=n.length-1];if(o===t)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return n[i]=t,Object.setPrototypeOf(o,e.prototype),l(Z,o),o}return e.prototype=G.prototype,e}(),function(){var t=et;s(Document.prototype,"createElement",function(e){if(this.__CE_hasRegistry){var n=t.a.get(e);if(n)return new n.constructor}return e=g.call(this,e),l(t,e),e}),s(Document.prototype,"importNode",function(e,n){return e=w.call(this,e,n),this.__CE_hasRegistry?h(t,e):c(t,e),e}),s(Document.prototype,"createElementNS",function(e,n){if(this.__CE_hasRegistry&&(null===e||"http://www.w3.org/1999/xhtml"===e)){var i=t.a.get(n);if(i)return new i.constructor}return e=_.call(this,e,n),l(t,e),e}),Y(t,Document.prototype,{h:k,append:C})}(),Y(et,DocumentFragment.prototype,{h:S,append:O}),function(){var t=et;function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,e);else{var o=void 0;if(this.firstChild){var r=this.childNodes,s=r.length;if(0<s&&i(this)){o=Array(s);for(var a=0;a<s;a++)o[a]=r[a]}}if(n.set.call(this,e),o)for(e=0;e<o.length;e++)d(t,o[e])}}})}s(Node.prototype,"insertBefore",function(e,n){if(e instanceof DocumentFragment){var o=Array.prototype.slice.apply(e.childNodes);if(e=T.call(this,e,n),i(this))for(n=0;n<o.length;n++)f(t,o[n]);return e}return o=i(e),n=T.call(this,e,n),o&&d(t,e),i(this)&&f(t,e),n}),s(Node.prototype,"appendChild",function(e){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes);if(e=x.call(this,e),i(this))for(var o=0;o<n.length;o++)f(t,n[o]);return e}return n=i(e),o=x.call(this,e),n&&d(t,e),i(this)&&f(t,e),o}),s(Node.prototype,"cloneNode",function(e){return e=E.call(this,e),this.ownerDocument.__CE_hasRegistry?h(t,e):c(t,e),e}),s(Node.prototype,"removeChild",function(e){var n=i(e),o=M.call(this,e);return n&&d(t,e),o}),s(Node.prototype,"replaceChild",function(e,n){if(e instanceof DocumentFragment){var o=Array.prototype.slice.apply(e.childNodes);if(e=j.call(this,e,n),i(this))for(d(t,n),n=0;n<o.length;n++)f(t,o[n]);return e}o=i(e);var r=j.call(this,e,n),s=i(this);return s&&d(t,n),o&&d(t,e),s&&f(t,e),r}),N&&N.get?e(Node.prototype,N):u(t,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++)t.push(this.childNodes[e].textContent);return t.join("")},set:function(t){for(;this.firstChild;)M.call(this,this.firstChild);x.call(this,document.createTextNode(t))}})})}(),function(){var t=et;function e(e,n){Object.defineProperty(e,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){var o=this,s=void 0;if(i(this)&&(s=[],r(this,function(t){t!==o&&s.push(t)})),n.set.call(this,e),s)for(var a=0;a<s.length;a++){var u=s[a];1===u.__CE_state&&t.disconnectedCallback(u)}return this.ownerDocument.__CE_hasRegistry?h(t,this):c(t,this),e}})}function n(e,n){s(e,"insertAdjacentElement",function(e,o){var r=i(o);return e=n.call(this,e,o),r&&d(t,o),i(e)&&f(t,o),e})}function o(e,n){function i(e,n){for(var i=[];e!==n;e=e.nextSibling)i.push(e);for(n=0;n<i.length;n++)h(t,i[n])}s(e,"insertAdjacentHTML",function(t,e){if("beforebegin"===(t=t.toLowerCase())){var o=this.previousSibling;n.call(this,t,e),i(o||this.parentNode.firstChild,this)}else if("afterbegin"===t)o=this.firstChild,n.call(this,t,e),i(this.firstChild,o);else if("beforeend"===t)o=this.lastChild,n.call(this,t,e),i(o||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");o=this.nextSibling,n.call(this,t,e),i(this.nextSibling,o)}})}P&&s(Element.prototype,"attachShadow",function(t){return this.__CE_shadowRoot=P.call(this,t)}),A&&A.get?e(Element.prototype,A):V&&V.get?e(HTMLElement.prototype,V):u(t,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return E.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName,n=e?this.content:this,i=g.call(document,this.localName);for(i.innerHTML=t;0<n.childNodes.length;)M.call(n,n.childNodes[0]);for(t=e?i.content:i;0<t.childNodes.length;)x.call(n,t.childNodes[0])}})}),s(Element.prototype,"setAttribute",function(e,n){if(1!==this.__CE_state)return I.call(this,e,n);var i=R.call(this,e);I.call(this,e,n),n=R.call(this,e),t.attributeChangedCallback(this,e,i,n,null)}),s(Element.prototype,"setAttributeNS",function(e,n,i){if(1!==this.__CE_state)return H.call(this,e,n,i);var o=L.call(this,e,n);H.call(this,e,n,i),i=L.call(this,e,n),t.attributeChangedCallback(this,n,o,i,e)}),s(Element.prototype,"removeAttribute",function(e){if(1!==this.__CE_state)return D.call(this,e);var n=R.call(this,e);D.call(this,e),null!==n&&t.attributeChangedCallback(this,e,n,null,null)}),s(Element.prototype,"removeAttributeNS",function(e,n){if(1!==this.__CE_state)return q.call(this,e,n);var i=L.call(this,e,n);q.call(this,e,n);var o=L.call(this,e,n);i!==o&&t.attributeChangedCallback(this,n,i,o,e)}),$?n(HTMLElement.prototype,$):U?n(Element.prototype,U):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),Q?o(HTMLElement.prototype,Q):X?o(Element.prototype,X):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched."),Y(t,Element.prototype,{h:F,append:J}),function(t){var e=Element.prototype;function n(e){return function(n){for(var o=[],r=0;r<arguments.length;++r)o[r-0]=arguments[r];r=[];for(var s=[],a=0;a<o.length;a++){var u=o[a];if(u instanceof Element&&i(u)&&s.push(u),u instanceof DocumentFragment)for(u=u.firstChild;u;u=u.nextSibling)r.push(u);else r.push(u)}for(e.apply(this,o),o=0;o<s.length;o++)d(t,s[o]);if(i(this))for(o=0;o<r.length;o++)(s=r[o])instanceof Element&&f(t,s)}}z&&(e.before=n(z)),z&&(e.after=n(B)),K&&s(e,"replaceWith",function(e){for(var n=[],o=0;o<arguments.length;++o)n[o-0]=arguments[o];o=[];for(var r=[],s=0;s<n.length;s++){var a=n[s];if(a instanceof Element&&i(a)&&r.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)o.push(a);else o.push(a)}for(s=i(this),K.apply(this,n),n=0;n<r.length;n++)d(t,r[n]);if(s)for(d(t,this),n=0;n<o.length;n++)(r=o[n])instanceof Element&&f(t,r)}),W&&s(e,"remove",function(){var e=i(this);W.call(this),e&&d(t,this)})}(t)}(),document.__CE_hasRegistry=!0;var nt=new m(et);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:nt})}}).call(self)},function(t,e,n){"use strict";n(39),n(38);var i=s(n(26)),o=s(n(23)),r=s(n(21));function s(t){return t&&t.__esModule?t:{default:t}}var a=void 0,u=function(t){window.requestIdleCallback(function(){document.querySelector("a").href="data:image/svg+xml;base64,\n"+window.btoa(t.innerHTML)})};window.requestAnimationFrame(function(){var t=document.querySelector("app-form");(a=document.querySelector("app-chart")).data=t.data,u(a),t.addEventListener("data-change",function(t){var e=t.detail;a.data=e,o.default.send(e),window.requestAnimationFrame(function(){return u(a)})})}),window.location.hash||(window.location.hash=(0,i.default)()),r.default.logToConsole=!0,new r.default("f695677a2ee54559e4a1",{cluster:"eu",encrypted:!0}).subscribe("my-channel").bind("my-event",function(t){window.alert(t.message)})}]);